
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
/!\ FAILSAFE /!\  Tue Sep 30 22:02:01 +1000 2008
  Status: 500 Internal Server Error
  Mysql::Error: Table 'bmtronics_kiosk.sessions' doesn't exist: SHOW FIELDS FROM `sessions`
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract_adapter.rb:147:in `log'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/mysql_adapter.rb:302:in `execute'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/mysql_adapter.rb:433:in `columns'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1149:in `columns'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1157:in `columns_hash'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:104:in `setup_sessid_compatibility!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:78:in `find_by_session_id'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:288:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1267:in `silence'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:288:in `initialize'
    /usr/lib/ruby/1.8/cgi/session.rb:273:in `new'
    /usr/lib/ruby/1.8/cgi/session.rb:273:in `initialize_without_cgi_reader'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_ext/session.rb:39:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:132:in `new'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:132:in `session'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:168:in `stale_session_check!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:116:in `session'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1139:in `assign_shortcuts_without_flash'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/flash.rb:166:in `assign_shortcuts'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:523:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000206)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.021037)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002881)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000203)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000332)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.002424)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001387)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001572)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000340)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001270)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000340)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001267)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002818)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000347)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001244)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002756)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000332)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001280)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002890)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000690)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.007767)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.002718)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000664)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002888)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003144)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.002885)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.002905)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000626)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002963)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.029688)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000702)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003298)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002883)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004600)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004326)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004047)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.004121)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000869)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000252)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000758)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000227)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000731)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000746)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000221)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.001808)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000769)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000226)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000679)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000686)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000223)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000135)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000093)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.023813)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000726)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.008825)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000648)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003327)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000680)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002855)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002789)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.006554)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003100)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000569)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003456)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000342)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000721)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003178)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003371)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003098)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.006664)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002894)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000335)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000644)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003001)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000910)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000805)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000811)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000948)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000774)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000808)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000948)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000343)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000214)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000164)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000206)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.010001)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001561)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001529)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.002011)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001409)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002962)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000506)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001685)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002780)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001426)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.006268)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000363)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000666)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.193645)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003245)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002991)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.008632)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004212)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004372)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000847)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000621)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003618)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002893)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003153)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003716)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003221)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000367)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.006404)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003462)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000823)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000788)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000221)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.007959)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003198)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000762)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003888)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000733)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003310)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003365)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003813)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.009307)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000619)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004111)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000442)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004335)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003781)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002976)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003699)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003486)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000475)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000706)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.009418)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000893)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000993)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001173)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001317)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.005367)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000929)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001206)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000935)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000240)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000173)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000205)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008580)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000287)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001365)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.002052)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001287)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000261)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001066)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002937)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000290)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001095)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002683)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001864)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002665)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000289)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000616)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002785)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.002805)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.007123)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002796)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003559)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002970)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000362)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000664)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002979)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002836)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003745)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002818)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003723)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.005397)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000293)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003083)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000308)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003082)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000593)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000744)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000257)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000716)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000245)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.015397)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000734)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003617)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004348)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000764)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000465)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.004351)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000761)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003557)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.007062)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000828)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.006890)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.002969)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003259)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003263)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000852)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000475)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003203)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.006652)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003817)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003698)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001323)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002986)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000355)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000567)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000312)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000216)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.005521)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000871)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003313)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000821)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003254)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.007797)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000784)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000476)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.005619)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000789)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003181)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000810)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000456)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.006130)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000859)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003797)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.002988)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003069)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000469)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003552)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000727)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003391)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000723)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003452)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004309)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000235)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000152)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000103)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000822)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004878)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000809)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003174)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'categories'; check that column/key exists: ALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000202)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000784)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.014065)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000798)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003142)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000785)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000243)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000796)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004912)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000836)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003273)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000250)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000213)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000092)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.005885)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000780)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004520)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000807)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000247)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000797)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.011273)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.001032)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003107)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000785)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003807)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'handset'; check that column/key exists: ALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000227)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.007334)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003003)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000305)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000469)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000236)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000191)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000201)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.005074)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000739)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003500)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000790)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003293)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000885)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003457)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'handset'; check that column/key exists: ALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.005362)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002764)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000299)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.001359)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001664)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000337)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001483)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.002977)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001349)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003429)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001211)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003149)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.005576)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.008990)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000683)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.004005)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000396)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.004042)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000678)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003807)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.005831)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.009742)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004337)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000609)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004534)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.001164)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.003943)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000583)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.004008)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004150)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004132)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004303)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000993)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004112)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.009383)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.006029)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000801)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000208)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000201)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.005975)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002879)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000758)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003611)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000724)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003454)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.010534)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.004198)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.029783)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000682)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003374)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000480)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000752)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003018)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003644)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003069)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.009690)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003563)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000461)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000710)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000891)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000883)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000879)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000424)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000905)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000929)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.006044)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001066)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000471)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000950)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000246)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000495)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000228)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.012550)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001591)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001878)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001393)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.003044)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003317)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001293)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003475)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001513)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003236)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000711)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000683)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003464)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003593)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003549)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003092)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004339)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003042)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000383)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000609)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003326)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.006048)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003054)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003078)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003469)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003125)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003141)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000622)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003256)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000351)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000760)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000262)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000212)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000206)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.011344)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003542)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000480)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000759)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003505)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000811)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003471)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002874)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.013259)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.004944)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000622)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.006179)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000583)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000732)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003617)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.008759)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002834)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003003)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003097)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000383)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000693)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003425)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000397)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000920)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001103)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000858)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000945)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000836)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001081)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000853)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000241)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000175)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000125)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000278)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008832)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000333)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.002518)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001440)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000261)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.004518)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000260)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001090)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004234)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001425)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004925)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000336)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001641)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002592)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000302)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000586)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003712)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.002783)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003553)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002763)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003625)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002755)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000293)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000533)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002847)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003126)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003265)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002958)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003078)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002993)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000325)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003298)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000310)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003159)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000300)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000679)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003401)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.007214)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002667)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000720)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003160)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000689)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000325)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.003455)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003635)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000727)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000417)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003093)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.002838)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.003035)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003591)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000770)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000421)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.003274)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000778)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003521)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002914)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.003362)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000309)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.002634)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003164)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000306)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000538)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000225)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000149)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000130)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.007080)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000341)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000728)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.005998)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000747)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003479)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003017)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000770)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000399)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.019819)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000746)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003284)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000712)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000334)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003065)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000675)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.012856)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003337)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.002946)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000706)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003229)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003533)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000698)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003675)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003625)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.002754)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000341)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003022)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000669)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003316)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000653)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002928)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000692)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003641)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.005137)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003163)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.002965)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000576)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003282)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000351)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000706)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003757)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003520)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003121)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003967)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002922)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000353)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000653)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.021244)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000880)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001135)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000884)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000843)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001347)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.010468)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000849)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000806)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000225)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000116)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000070)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000201)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.006108)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.002141)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001306)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000244)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001698)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003229)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001212)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.009158)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000343)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001110)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003180)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001303)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002987)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000267)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000633)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002854)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000261)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003264)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000707)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002827)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003347)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.023492)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.006915)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000358)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000608)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003183)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002928)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003295)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003199)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003726)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003305)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.007635)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000319)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.002940)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000305)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003365)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000707)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002916)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003605)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000759)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003254)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000447)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.003452)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003687)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000794)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000446)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003163)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.002919)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.003260)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.002957)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000805)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000459)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.003021)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000794)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003764)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.010980)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.003396)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000445)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.001472)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002698)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000274)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000496)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000266)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000214)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000216)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.004632)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000815)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003218)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000861)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003130)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003622)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000736)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000375)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.002876)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002572)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.007247)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000702)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000374)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.010016)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003175)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.008484)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.006034)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000698)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004126)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003949)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003375)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.009373)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.002941)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003040)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002811)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000665)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003337)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000716)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.009734)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002949)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003081)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.002766)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000575)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002856)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000661)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000708)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.013489)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000728)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003400)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002919)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002882)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003604)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000368)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000647)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002993)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001103)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000882)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.006257)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000924)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000990)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000829)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000827)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.001001)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000232)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000168)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000223)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008573)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001573)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001834)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001332)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001445)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002884)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000411)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001445)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003216)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000346)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001524)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003280)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000674)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003069)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.009303)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004409)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003565)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.006512)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003697)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000395)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000602)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003120)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000657)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003183)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000726)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003191)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003420)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.009736)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004189)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000428)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.004102)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000436)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.004446)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000868)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000815)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004031)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003675)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000798)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003268)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003889)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000773)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000457)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003153)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000951)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003590)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.010368)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000778)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003095)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003935)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Duplicate column name 'id': ALTER TABLE `plans` CHANGE `handset` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000236)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000145)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.008428)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002730)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000323)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000768)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003459)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000657)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002865)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002842)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003306)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003715)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000568)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003285)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000436)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000709)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002910)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000699)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002996)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003194)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003327)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002796)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000359)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000652)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003434)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000809)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000801)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000806)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001026)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001115)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000346)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000851)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000348)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000982)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000217)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000153)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000188)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000225)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008615)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.002388)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001522)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.005471)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001395)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002869)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000412)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001522)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002915)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001326)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003205)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000356)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000680)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004023)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003644)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000662)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.007427)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002920)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003018)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003639)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000414)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000600)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003377)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003360)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000668)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.004125)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003103)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003055)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003762)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000606)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.005699)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000421)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003606)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000381)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000736)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003369)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003477)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000752)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.006965)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003524)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000540)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003935)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000774)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003216)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003217)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000828)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003539)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003193)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003455)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003357)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003663)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.005918)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000826)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003794)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000839)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003714)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003654)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003813)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001502)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003058)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000386)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000595)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000257)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000214)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000212)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.005419)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000876)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003149)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000806)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003232)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003218)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000453)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003464)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.004269)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000450)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003486)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003101)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.010362)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003118)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000754)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003047)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000798)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004810)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000819)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003864)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004553)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.002946)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.002995)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003044)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000737)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003293)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000713)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003348)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002959)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003035)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.007224)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000627)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003634)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000377)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000736)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003329)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000741)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003017)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003630)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002953)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003437)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000575)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000783)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003434)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000862)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000990)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000924)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001171)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000872)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000912)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000440)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000901)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001154)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000872)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000963)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000452)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000231)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000176)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000205)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.007865)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001393)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001523)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001294)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001542)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004064)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000347)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.023440)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003152)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001281)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003461)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000349)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000688)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003202)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003476)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000684)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003394)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.004410)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003778)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003353)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000410)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000505)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003435)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003839)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003453)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003219)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003083)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003802)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000407)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.010175)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000421)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.004303)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000412)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000756)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003449)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004057)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000745)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003573)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003028)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000776)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000487)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003624)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000794)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003463)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003534)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000774)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003737)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003621)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003697)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.007190)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003067)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003228)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000822)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003648)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000813)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003303)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003225)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003389)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001302)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003015)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000352)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000570)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003150)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003363)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000563)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003380)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003103)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004004)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000561)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.005692)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001552)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000250)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000210)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000204)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000629)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.017217)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000569)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003721)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000590)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.004731)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.007835)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000872)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000817)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003369)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000854)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.010531)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.004339)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000791)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000489)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.006555)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000788)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003351)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000775)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000461)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.008062)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000801)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003096)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003188)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003031)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000760)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003457)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000721)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003495)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004364)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002908)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.003070)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003639)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.005462)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000805)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003610)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000734)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003132)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003143)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003305)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003337)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000610)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003763)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000377)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000717)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003978)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003966)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003427)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003466)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002912)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000385)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.047906)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003287)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000908)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000644)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000780)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000751)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001078)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000675)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000821)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000244)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000167)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000166)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.000534)[0m   [0mdescribe `charge_types`[0m
  [4;36;1mSQL (0.000259)[0m   [0;1mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000228)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.007147)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001507)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001331)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.002024)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001437)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002906)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000350)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001254)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002995)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001785)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002828)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000355)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000667)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003023)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003319)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000664)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003166)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.006656)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003386)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003095)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000348)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000614)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003442)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.004629)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003729)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003171)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003723)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003392)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003485)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000361)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003035)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000644)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000787)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003222)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002945)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000747)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003147)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003648)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000813)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000504)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003625)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000767)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003400)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.002945)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000756)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.006529)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003473)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003000)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003387)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.006670)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003676)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000815)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000453)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003517)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000840)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003085)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003710)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003418)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001877)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003343)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000394)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000579)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003042)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003070)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000551)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003176)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003349)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003118)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000579)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000456)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.006192)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000121)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000269)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000222)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000228)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000604)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.010726)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000625)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003021)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000591)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003540)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.005847)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000437)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001172)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000845)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003583)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000859)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003599)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003497)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000461)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003300)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000758)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000451)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003224)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000879)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000474)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003900)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000829)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.005142)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.007768)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003539)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000788)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.009590)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000755)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003117)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000732)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.009252)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004297)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.003993)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000475)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003318)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000449)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003296)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000804)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003165)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000730)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.009029)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003155)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.002834)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003280)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000609)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002898)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000449)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000737)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003218)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000730)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003218)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003738)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002967)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003206)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000568)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.049952)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003127)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001072)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000885)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000907)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000451)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000856)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001035)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000877)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000861)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000259)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000179)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000179)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.000542)[0m   [0mdescribe `charge_types`[0m
  [4;36;1mSQL (0.000268)[0m   [0;1mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000226)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.005446)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001925)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000284)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001523)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001376)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001598)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.010097)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.001335)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001427)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004326)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001289)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.005074)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000347)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000679)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003431)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003126)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003306)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003099)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003583)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003018)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000345)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000602)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003460)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002902)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000665)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003471)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.006227)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003120)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002936)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000342)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.002926)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000345)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003643)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000549)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000750)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003111)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003636)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000790)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003069)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004101)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000796)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000492)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003540)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000464)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003028)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003273)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000764)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.006109)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.009211)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.004342)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004283)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.004339)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004002)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000860)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003214)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000817)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003894)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003702)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003248)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.002049)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.009005)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000572)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000626)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003139)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.010010)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000577)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.004250)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.004429)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003544)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000626)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003667)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000380)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.021363)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000253)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000214)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000213)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000624)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.012638)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000565)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003111)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000574)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.014921)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.004262)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000951)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000474)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000828)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004426)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000876)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004267)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002990)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000792)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000476)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003503)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000806)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000472)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003744)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000456)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003684)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000867)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003923)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003516)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003038)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.004042)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000464)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.005125)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000777)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003252)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000745)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003761)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003583)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.004149)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003222)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000943)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002886)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000773)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003156)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000800)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.004390)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.004230)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.004097)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003891)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000632)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004501)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000459)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003118)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003613)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003358)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003454)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.006837)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000445)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.047485)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.010349)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000887)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000409)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000837)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001026)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000868)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000935)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000814)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000943)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000860)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000722)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000261)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000144)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000118)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.000391)[0m   [0mdescribe `charge_types`[0m
  [4;36;1mSQL (0.000180)[0m   [0;1mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000208)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.005320)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000298)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001476)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000277)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001152)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.003808)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.003788)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002909)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000321)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001478)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002600)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001324)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003298)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000292)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000634)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002900)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003034)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.008584)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002891)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003263)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.008667)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000347)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000595)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002839)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003398)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.002901)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002839)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003014)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002874)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000908)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003803)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000397)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.002883)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000346)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000724)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003428)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003485)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000746)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.006087)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002843)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000768)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000482)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003184)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000728)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003187)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.002930)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000739)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003203)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.002895)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003089)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003420)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003146)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003820)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000834)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003453)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000785)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.006151)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003304)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003739)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001530)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003063)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000920)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000556)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.004102)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.004122)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000534)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.004095)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002937)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003920)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000558)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003286)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001445)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000625)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.004087)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002828)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001558)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` integer, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003698)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003146)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001380)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` integer, `field_id` integer, `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.003396)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002841)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003212)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000752)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000263)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000216)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000244)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.004632)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.009508)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.000924)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000601)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003112)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000569)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003086)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000652)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003390)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.002974)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000904)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000786)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004116)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000847)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004272)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003976)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000799)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000481)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003645)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000796)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003381)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000782)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000530)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003355)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000781)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.008214)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003059)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003141)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000745)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000569)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004046)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003274)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000734)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003422)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003917)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.007173)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003011)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003032)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000694)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003051)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000722)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003474)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003104)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003533)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003664)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000610)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003999)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000378)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000788)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003988)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000732)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.007769)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004181)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003014)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003060)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.001237)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.048038)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003135)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000929)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000694)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000976)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000918)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000879)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001143)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001252)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000873)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000253)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000173)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000217)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.007526)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001550)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001319)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001863)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001514)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003024)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000404)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001416)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.005317)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001851)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002951)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000340)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000687)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003608)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.002949)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003558)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002995)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003132)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003398)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000808)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000622)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.008782)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002930)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003826)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003338)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004867)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004128)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000418)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.004237)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000430)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.004201)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000424)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004447)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004327)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000736)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004415)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004122)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000795)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000475)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.009000)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000784)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.007572)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.005271)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000802)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000468)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.004263)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.004336)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.004284)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003725)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.006419)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003108)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000814)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000463)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003585)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000793)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003691)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003902)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.006544)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.005738)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001754)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004157)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000398)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000585)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.002985)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003256)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000676)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003934)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003437)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003329)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000596)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003280)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.017841)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001371)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000657)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003528)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003105)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001719)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003363)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '; ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT' at line 1: ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL; ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL; [0m
  [4;36;1mSQL (0.000117)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000246)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000265)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
Migrating to PlansVersion3 (16)
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000222)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.001854)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.004164)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000584)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003200)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000720)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000463)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003512)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000577)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003472)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001058)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000846)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003571)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000842)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003897)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002990)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000708)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000333)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003090)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000646)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003743)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000644)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000323)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003391)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000650)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003541)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.004324)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.002779)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000619)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004017)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000859)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004345)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000740)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.006745)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002845)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.003087)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000413)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003475)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002833)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000770)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.004015)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000780)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003672)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003720)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.004513)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003399)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000600)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004262)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000651)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000732)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003724)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000715)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003485)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003353)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003664)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003457)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000425)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.050850)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003901)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000397)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000915)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000926)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000449)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001536)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000866)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000871)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001074)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000884)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000256)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000179)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000559)[0m   [0mdescribe `charge_type_fields`[0m
  [4;36;1mSQL (0.000268)[0m   [0;1mSHOW KEYS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000647)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mdescribe `charge_types`[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000217)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000127)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.002861)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001300)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001478)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001531)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001282)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003907)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000440)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001433)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004394)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001241)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003889)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000607)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000649)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004071)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000870)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.004120)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004580)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003440)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002828)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003508)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000383)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000586)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003360)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003231)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003376)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002884)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002948)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003067)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000546)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003072)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000377)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.009981)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000325)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003024)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003169)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000710)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002924)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003135)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000769)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000454)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.004146)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000836)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003717)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003158)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000772)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.004014)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.005623)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003514)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003429)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003114)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.009835)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000828)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003462)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003691)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003217)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003472)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001794)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003467)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000395)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000550)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003385)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003015)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000547)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003185)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002945)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003342)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000547)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.007499)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000261)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000270)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
Migrating to PlansVersion3 (16)
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000213)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000608)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.007162)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000607)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003076)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000603)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003039)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003055)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001134)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003944)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000820)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003276)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002943)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000795)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000474)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.008122)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000769)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.024016)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000832)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000473)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003245)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000769)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003524)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003452)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.005134)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000753)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003873)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000774)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.005115)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003363)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003628)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.003335)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003392)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003205)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000683)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.008865)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000774)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003351)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003605)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.007969)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003115)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000609)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.009223)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000380)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000733)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003203)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003421)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003686)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003135)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003862)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000384)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.047580)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003218)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001124)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000927)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000919)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001121)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000847)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000879)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.001049)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000260)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000176)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000585)[0m   [0mdescribe `charge_type_fields`[0m
  [4;36;1mSQL (0.000266)[0m   [0;1mSHOW KEYS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000521)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mdescribe `charge_types`[0m
  [4;35;1mSQL (0.000267)[0m   [0mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000231)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.009282)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001563)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001580)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001737)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001559)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004216)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000434)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001378)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004235)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001432)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004045)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000447)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000662)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004139)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003043)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000758)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003553)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003066)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003132)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003479)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000407)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000607)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002974)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000346)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002999)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003465)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003264)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003318)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.006439)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000454)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003581)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000576)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003194)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000361)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000757)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003137)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003133)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000733)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003878)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003074)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000802)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000455)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003469)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000773)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003862)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003476)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000799)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003148)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003285)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.004782)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003959)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003247)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003532)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000808)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000470)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.004894)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000838)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003286)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003364)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003701)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.003808)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003242)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000446)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000568)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003687)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003317)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000558)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003670)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003020)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.009254)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000571)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000467)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004178)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000250)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000210)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000220)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000120)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000572)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.006050)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000621)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.005572)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000556)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003731)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.002919)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001043)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000672)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003762)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000698)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003118)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003226)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000580)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.007277)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000727)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.009951)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000723)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000401)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.004163)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000719)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004405)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.002989)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.002764)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000690)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000419)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003209)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.009019)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000669)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002872)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002999)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.002979)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000800)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.011918)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004555)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.001061)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000662)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003093)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000709)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.012340)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.004196)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.004435)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003419)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000540)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003075)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000326)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000640)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003111)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003070)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002625)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002825)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002621)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000358)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.048340)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003206)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000728)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000277)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000667)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000280)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000876)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000637)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000627)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000305)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000869)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000670)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000152)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000115)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000575)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000511)[0m   [0mdescribe `charge_type_fields`[0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSHOW KEYS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000434)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mdescribe `charge_types`[0m
  [4;35;1mSQL (0.000189)[0m   [0mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000224)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.010303)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001550)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001390)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.002141)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.009913)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001451)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003193)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000398)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001197)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003066)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001582)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.006625)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000347)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000697)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003504)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003287)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000685)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003193)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003367)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003034)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003711)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000572)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000615)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003126)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003528)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000682)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003457)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003738)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002950)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003390)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000355)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003381)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000360)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003897)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000429)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000801)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003256)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003017)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000756)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003248)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004378)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000798)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000463)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.004149)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000767)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003486)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.009361)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000806)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003194)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003480)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003348)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003547)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003745)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003867)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000862)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000486)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.007152)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000835)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003160)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003461)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003263)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000402)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001469)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003184)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000368)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000577)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003568)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003225)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000560)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003693)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003577)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.005987)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000560)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003540)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.025904)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003419)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003081)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001651)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000668)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003451)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003196)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003381)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001400)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000645)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003186)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003010)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000264)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000209)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000245)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000613)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.007046)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000583)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.005392)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000571)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.006719)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.007503)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000879)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000846)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004782)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000808)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003194)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003094)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000457)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003808)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.001560)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.006492)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.004658)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000314)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.004347)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000735)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002906)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003393)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.004176)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000740)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004303)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000680)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004277)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003403)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.007386)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.008831)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.002731)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003323)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000540)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000654)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003478)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000714)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.009823)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.008284)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003941)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.004003)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000536)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004095)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000401)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000662)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004313)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000674)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002986)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003047)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002749)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003256)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000316)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.047702)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003495)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000826)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000787)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000999)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000773)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000801)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000994)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000776)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000268)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000125)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000093)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000410)[0m   [0mdescribe `charge_type_fields`[0m
  [4;36;1mSQL (0.000234)[0m   [0;1mSHOW KEYS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000440)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mdescribe `charge_types`[0m
  [4;35;1mSQL (0.000180)[0m   [0mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000334)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000178)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000219)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.010484)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001599)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001657)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001304)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001472)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003146)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000915)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.006426)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004844)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000785)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001303)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003817)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000603)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000624)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004122)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000904)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003921)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004002)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003974)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003976)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004077)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000908)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000564)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002680)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.004124)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.001030)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.002907)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002925)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003165)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002779)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000301)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003400)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003153)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000279)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000689)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003407)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004084)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000711)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003380)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000709)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000327)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003540)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000708)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000316)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.008037)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003929)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000730)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000310)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003207)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003158)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.002963)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003291)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.005632)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002698)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000741)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003149)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000742)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003423)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003977)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.008620)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000348)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001283)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002899)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000552)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000547)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003080)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.004070)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000530)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002912)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002936)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004119)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000518)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000430)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003261)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charge_types' already exists: CREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000243)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000200)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000217)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000547)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.010260)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.001195)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003083)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000465)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000305)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003550)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003170)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001574)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000343)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000664)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003939)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000807)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003583)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003075)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000766)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000440)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.009552)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000777)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003064)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000759)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000436)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003483)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000768)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004440)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003273)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003091)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000741)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000437)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003887)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000791)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003899)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000707)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003575)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003024)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.003000)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.006603)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002780)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000675)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003053)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000700)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003655)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002891)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003046)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003087)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000595)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003342)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000360)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000727)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003017)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003494)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003803)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.011111)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.009284)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000845)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.046989)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001088)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000695)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000846)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000339)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000662)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000666)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000303)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000907)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000689)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000268)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000193)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000580)[0m   [0mdescribe `charge_type_fields`[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mSHOW KEYS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.000529)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.000526)[0m   [0;1mdescribe `charge_types`[0m
  [4;35;1mSQL (0.000254)[0m   [0mSHOW KEYS FROM `charge_types`[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000505)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000247)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000194)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.006200)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002767)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000204)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000303)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.003549)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000369)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001366)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000348)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.003806)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000727)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001339)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000369)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001525)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003042)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001205)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.007213)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000808)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001193)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002732)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000319)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000679)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003297)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000330)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.003093)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000795)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003967)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.006788)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003488)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004169)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000615)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004196)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000427)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.004138)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000672)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.005173)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003612)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.002975)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003377)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002917)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003335)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000790)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003240)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003642)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000757)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003083)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003404)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000832)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000449)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003817)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000761)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000476)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.002983)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003106)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000468)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003327)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.002992)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.003264)[0m   [0;1m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003283)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003168)[0m   [0;1m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003319)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000804)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000456)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.005181)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000790)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003866)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003042)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.003350)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000799)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.003930)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.009136)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000673)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003240)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002959)[0m   [0m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.002985)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.002832)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003746)[0m   [0mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000441)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.003026)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000341)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.002058)[0m   [0;1mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000624)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.008507)[0m   [0;1mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.004032)[0m   [0m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001358)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000651)[0m   [0mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;36;1mSQL (0.007874)[0m   [0;1mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003185)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003468)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.015824)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.003225)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003209)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003025)[0m   [0m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003077)[0m   [0;1m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003034)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000855)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000260)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000234)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000231)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.004310)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.000978)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.000865)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000526)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003133)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000574)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003358)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000573)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003007)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003185)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.001147)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001002)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000943)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003097)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000879)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002965)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003086)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000461)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003264)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000869)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000460)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003323)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000466)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003774)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000792)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003687)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003168)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003640)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003461)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000724)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003490)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003026)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003588)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.002955)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000422)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003398)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002755)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000701)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003623)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000724)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003150)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003376)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003522)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.004319)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000626)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003628)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000390)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000733)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003161)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000718)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003257)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003763)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003368)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002985)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000420)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.047795)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003379)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001012)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000699)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000294)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000717)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000634)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000708)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000805)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000951)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000256)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000170)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000204)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000117)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008501)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.002407)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001610)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001363)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001928)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.003601)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003235)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001350)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003792)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.001071)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001951)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002967)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000372)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000728)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003174)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000470)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003674)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000685)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003063)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003645)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003402)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003117)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000382)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000629)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003617)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003715)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003244)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003517)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003724)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.005741)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000380)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003582)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000366)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003811)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000452)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000912)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003435)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003230)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000739)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003233)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003049)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000884)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000462)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003841)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000775)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003695)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003475)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003674)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003245)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.004207)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004140)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.004178)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004127)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.001054)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.004416)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000894)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.009673)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003949)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003940)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001775)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003184)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000366)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000583)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.017125)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003245)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000558)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003269)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002962)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003564)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000565)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003374)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001430)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003773)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003688)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001333)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.004023)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003146)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003639)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001494)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000617)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003048)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002986)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.004323)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.006070)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.008116)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000439)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000853)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003559)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.006753)[0m   [0mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003665)[0m   [0;1mALTER TABLE `phones` ADD `supplier` text[0m
  [4;35;1mSQL (0.003677)[0m   [0mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003788)[0m   [0;1mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003723)[0m   [0mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003758)[0m   [0;1mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000422)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003850)[0m   [0;1mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003693)[0m   [0mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;36;1mSQL (0.004000)[0m   [0;1mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003733)[0m   [0mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003777)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003569)[0m   [0mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.002093)[0m   [0mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;35;1mSQL (0.001679)[0m   [0mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000545)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000246)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000172)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.008674)[0m   [0mDROP TABLE `options`[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003003)[0m   [0mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;36;1mSQL (0.002847)[0m   [0;1mALTER TABLE `accessories` DROP `supplier`[0m
  [4;35;1mSQL (0.003366)[0m   [0mALTER TABLE `accessories` DROP `partnum`[0m
  [4;36;1mSQL (0.003044)[0m   [0;1mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;35;1mSQL (0.000301)[0m   [0mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003235)[0m   [0;1mALTER TABLE `phones` DROP `buy_price`[0m
  [4;35;1mSQL (0.002879)[0m   [0mALTER TABLE `phones` DROP `supplier`[0m
  [4;36;1mSQL (0.003154)[0m   [0;1mALTER TABLE `phones` DROP `partnum`[0m
  [4;35;1mSQL (0.006719)[0m   [0mALTER TABLE `phones` DROP `corp_price`[0m
  [4;36;1mSQL (0.000776)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000743)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.007232)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003764)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000449)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000769)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.001031)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.001033)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000543)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002860)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000510)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002916)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000521)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003382)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003008)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000774)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000816)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.005759)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000753)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003403)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003044)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000757)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000437)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003551)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000756)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003354)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000722)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000434)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.002938)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000798)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003235)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003498)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.005133)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000693)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000422)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003503)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000681)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003071)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000726)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002926)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003293)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.004514)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.015355)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004074)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000712)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003661)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000731)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003339)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003477)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.002915)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003315)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000590)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003008)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000425)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000690)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003221)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.047710)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003232)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003239)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003618)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002980)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000454)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.008463)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003385)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.006589)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001073)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000831)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000890)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000862)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000872)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001306)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000420)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000848)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000409)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000238)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000146)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000163)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000401)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000212)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000229)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000119)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.005491)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001677)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000397)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.002348)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.010625)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.003487)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001194)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003809)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000363)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001392)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003818)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001354)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003940)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000372)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000607)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003511)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.007390)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003727)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.007550)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002944)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002821)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004446)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000309)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000599)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002882)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.010207)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.004091)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.004129)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004276)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004056)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000841)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003460)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000297)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.002853)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000302)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000708)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003893)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004974)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000714)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003399)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003061)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000773)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000439)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003379)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000759)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.009465)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003033)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000747)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003674)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.008789)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003075)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002885)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.010329)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004325)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000826)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003662)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000793)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.005545)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003409)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.002913)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.002124)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002908)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000326)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000546)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.004106)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.009339)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000540)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003125)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003169)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003124)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000541)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000430)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003447)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000332)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001356)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003521)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002907)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001851)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003222)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002873)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002951)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001627)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000593)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003457)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003405)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002916)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003107)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003209)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000363)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000817)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003144)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003239)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000404)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003295)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003799)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003902)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.004093)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003702)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003498)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003021)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003009)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.004189)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.004275)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003669)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003877)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.001615)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000445)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Table 'plans_options' already exists: CREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000253)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000212)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000210)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000123)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.003115)[0m   [0mDROP TABLE `options`[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.039502)[0m   [0mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;36;1mSQL (0.003234)[0m   [0;1mALTER TABLE `accessories` DROP `supplier`[0m
  [4;35;1mSQL (0.002870)[0m   [0mALTER TABLE `accessories` DROP `partnum`[0m
  [4;36;1mSQL (0.006267)[0m   [0;1mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;35;1mSQL (0.000382)[0m   [0mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.025754)[0m   [0;1mALTER TABLE `phones` DROP `buy_price`[0m
  [4;35;1mSQL (0.003203)[0m   [0mALTER TABLE `phones` DROP `supplier`[0m
  [4;36;1mSQL (0.002982)[0m   [0;1mALTER TABLE `phones` DROP `partnum`[0m
  [4;35;1mSQL (0.019571)[0m   [0mALTER TABLE `phones` DROP `corp_price`[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000726)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.039203)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.018289)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000358)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001014)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.000833)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000447)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003014)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000486)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.008745)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000525)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.002968)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003971)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.038921)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000413)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000788)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003275)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000754)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003126)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.017587)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000782)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000321)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003834)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000712)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000312)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.011955)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000770)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000314)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.004257)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000729)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003552)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.002700)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003631)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000731)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003020)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003026)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003097)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003577)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.004525)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003187)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002722)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000708)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.004076)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000624)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002832)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.015313)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003247)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.002675)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000541)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003075)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000345)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000674)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003487)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.046643)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004267)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003568)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.002881)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002653)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000350)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.008589)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003816)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000735)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000733)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000305)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000703)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000851)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000696)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000743)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000654)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000193)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.023254)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000181)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000315)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000230)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008923)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001367)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001365)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000260)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001837)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000265)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001283)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002724)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000280)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.041319)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002940)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001179)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002607)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000292)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000600)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.017216)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003793)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002732)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002743)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002914)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003119)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000286)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000549)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002665)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000304)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002773)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.002797)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002927)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003452)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002604)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000288)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.002652)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000286)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.002888)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000404)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000689)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004592)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004390)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000762)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004129)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004103)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000333)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.004311)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000726)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000312)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.004231)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.004167)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000715)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000310)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.004720)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.004153)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003408)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.007177)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003214)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002979)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000759)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003295)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003715)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.009927)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.004272)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000965)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001261)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002681)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000295)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000499)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003788)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.006545)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000494)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003129)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002790)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002811)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000519)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.002993)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001505)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000529)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003036)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002794)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001593)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.005615)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003102)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002739)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001335)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000551)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.002798)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002896)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003062)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002612)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002725)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000751)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003123)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002843)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;35;1mSQL (0.000281)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.002909)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003510)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003275)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.025073)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003268)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003106)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003133)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003222)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.003061)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003281)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003175)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003246)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000515)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.005673)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000279)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Table 'plans_options' already exists: CREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000118)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000247)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.056725)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000231)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.007342)[0m   [0mDROP TABLE `options`[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.023436)[0m   [0mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;36;1mSQL (0.003323)[0m   [0;1mALTER TABLE `accessories` DROP `supplier`[0m
  [4;35;1mSQL (0.003266)[0m   [0mALTER TABLE `accessories` DROP `partnum`[0m
  [4;36;1mSQL (0.003048)[0m   [0;1mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;35;1mSQL (0.000387)[0m   [0mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.002931)[0m   [0;1mALTER TABLE `phones` DROP `buy_price`[0m
  [4;35;1mSQL (0.003238)[0m   [0mALTER TABLE `phones` DROP `supplier`[0m
  [4;36;1mSQL (0.002874)[0m   [0;1mALTER TABLE `phones` DROP `partnum`[0m
  [4;35;1mSQL (0.003887)[0m   [0mALTER TABLE `phones` DROP `corp_price`[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000774)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003614)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.004005)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000402)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001079)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.005993)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.001114)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000464)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003215)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000560)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.004431)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000654)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003038)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.010139)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000841)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000851)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003888)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000814)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003156)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003452)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000337)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003577)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000722)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000312)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003428)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000326)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003417)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000720)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003629)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003506)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003350)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000718)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.002925)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002828)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000695)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004035)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004211)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.004713)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.004017)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003844)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000665)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003743)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000741)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002991)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002653)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003350)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003314)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000957)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000595)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.009491)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000401)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000671)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004000)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.047787)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003145)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002741)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.010020)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.005310)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000498)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.008497)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003216)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000799)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000715)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000862)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000643)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000731)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000873)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000765)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000232)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000145)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000113)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000368)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000165)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.034885)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001360)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001352)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001425)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001215)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002778)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000519)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001652)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003350)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001479)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.009027)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000400)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000678)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003606)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000338)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.002949)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.026673)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003666)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004073)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002922)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000381)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000624)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.008425)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000710)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003240)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003519)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.031100)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.007235)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002997)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000327)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.002936)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000331)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003376)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000389)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000770)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003646)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.005396)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000736)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003427)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003082)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000452)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.007559)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000794)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003009)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003178)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.007358)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.003028)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003106)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003816)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.003622)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003385)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000854)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003852)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000820)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003304)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.004255)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.004294)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000837)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001476)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004097)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000413)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000580)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.004346)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.004302)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000566)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003668)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003278)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.009106)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000573)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000497)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.007644)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001472)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003638)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002988)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001805)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003490)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003319)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.009079)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001413)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000616)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003341)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002878)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003934)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003358)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003265)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000354)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000822)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003903)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003121)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;35;1mSQL (0.000354)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003585)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003588)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003554)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003707)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003450)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003313)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003430)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003483)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.003728)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003522)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003671)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003486)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000376)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.001845)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000334)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.001632)[0m   [0;1mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000539)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000289)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000225)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000254)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.005005)[0m   [0mDROP TABLE `options`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003246)[0m   [0mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;36;1mSQL (0.003001)[0m   [0;1mALTER TABLE `accessories` DROP `supplier`[0m
  [4;35;1mSQL (0.003120)[0m   [0mALTER TABLE `accessories` DROP `partnum`[0m
  [4;36;1mSQL (0.002999)[0m   [0;1mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;35;1mSQL (0.000308)[0m   [0mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003181)[0m   [0;1mALTER TABLE `phones` DROP `buy_price`[0m
  [4;35;1mSQL (0.003485)[0m   [0mALTER TABLE `phones` DROP `supplier`[0m
  [4;36;1mSQL (0.002638)[0m   [0;1mALTER TABLE `phones` DROP `partnum`[0m
  [4;35;1mSQL (0.003311)[0m   [0mALTER TABLE `phones` DROP `corp_price`[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000742)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003270)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003398)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000284)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000654)[0m   [0mDROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mDROP TABLE `charge_type_fields`[0m
  [4;35;1mSQL (0.001801)[0m   [0mDROP TABLE `charges`[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000441)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002931)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000519)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003254)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000548)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000430)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003303)[0m   [0mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003260)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.000816)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000795)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003656)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000811)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002992)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.029140)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000334)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.003716)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000753)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.004869)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000816)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000326)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.004240)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000724)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.031471)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003289)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.002596)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000652)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003188)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004876)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004150)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004354)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;35;1mSQL (0.020045)[0m   [0mALTER TABLE `plans` DROP `repayments`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003062)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003074)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000646)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002831)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000847)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.010392)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.004041)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.044629)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.058691)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.008637)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.003599)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.028026)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.005172)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000714)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.068986)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.050509)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.041131)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.070583)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.100476)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.029843)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.001685)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.008588)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002936)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000806)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000877)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001113)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000784)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000874)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000793)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001143)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000893)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000153)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000120)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000380)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000313)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000247)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.007645)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001514)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001271)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000266)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001273)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000258)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001583)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002610)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000432)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.005760)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003802)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001136)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002710)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000253)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000581)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002771)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.003841)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003709)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.001653)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002757)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003441)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004851)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003274)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000452)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000554)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002515)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000467)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.003031)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.002858)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003112)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003122)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002674)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000277)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003596)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000270)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003219)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000332)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000671)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002744)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002991)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000657)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003036)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002927)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000768)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000322)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.002918)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000689)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003342)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.006901)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000721)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.002869)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.002935)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.002838)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003364)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.002759)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003283)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000755)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003194)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002962)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002918)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003127)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.004073)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004740)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000332)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000541)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003008)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.002953)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000534)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003529)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.005753)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002725)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000601)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004156)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000333)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001393)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003164)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004618)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001450)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.004242)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004768)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.004127)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001572)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000610)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003208)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002802)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002810)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003299)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.006924)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000835)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000821)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003150)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003189)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;35;1mSQL (0.000378)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003124)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003496)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003942)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.005811)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.004948)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003215)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003461)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003019)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.003308)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.006504)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003793)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.006135)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000563)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.004465)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000337)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.001756)[0m   [0;1mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000601)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.002988)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002793)[0m   [0m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003361)[0m   [0;1mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;35;1mSQL (0.000328)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;36;1mSQL (0.031055)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.000522)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;36;1mSQL (0.048194)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.009846)[0m   [0mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;36;1mSQL (0.003258)[0m   [0;1mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;35;1mSQL (0.010723)[0m   [0mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;35;1mSQL (0.002723)[0m   [0mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;36;1mSQL (0.000288)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;35;1mSQL (0.000764)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.035461)[0m   [0;1mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000878)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.004056)[0m   [0;1mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;36;1mSQL (0.003560)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.003816)[0m   [0mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;35;1mSQL (0.008914)[0m   [0mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;36;1mSQL (0.003125)[0m   [0;1mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000334)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;36;1mSQL (0.003369)[0m   [0;1mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000432)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;36;1mSQL (0.000893)[0m   [0;1mDROP TABLE IF EXISTS charges[0m
  [4;35;1mSQL (0.000838)[0m   [0mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;36;1mSQL (0.001064)[0m   [0;1mDROP TABLE IF EXISTS charge_types[0m
  [4;35;1mSQL (0.001384)[0m   [0mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001585)[0m   [0;1mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001399)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;35;1mSQL (0.045742)[0m   [0mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;36;1mSQL (0.003270)[0m   [0;1mALTER TABLE `phones` ADD `brand` text[0m
  [4;35;1mSQL (0.003416)[0m   [0mALTER TABLE `phones` ADD `network` text[0m
  [4;36;1mSQL (0.003714)[0m   [0;1mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;35;1mSQL (0.005954)[0m   [0mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;35;1mSQL (0.001392)[0m   [0mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002818)[0m   [0;1mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000324)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;36;1mSQL (0.004366)[0m   [0;1mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;35;1mSQL (0.004494)[0m   [0mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.008536)[0m   [0;1mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;35;1mSQL (0.008366)[0m   [0mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;36;1mSQL (0.003164)[0m   [0;1mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003392)[0m   [0mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.003538)[0m   [0mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.003417)[0m   [0mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;36;1mSQL (0.003722)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000376)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;36;1mSQL (0.001660)[0m   [0;1mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003221)[0m   [0mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;35;1mSQL (0.003069)[0m   [0mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003114)[0m   [0;1mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003231)[0m   [0mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;35;1mSQL (0.003171)[0m   [0mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;35;1mSQL (0.003393)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;35;1mSQL (0.001943)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;35;1mSQL (0.001958)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;35;1mSQL (0.001624)[0m   [0mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003380)[0m   [0;1mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;35;1mSQL (0.002934)[0m   [0mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;35;1mSQL (0.001218)[0m   [0mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000449)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;35;1mSQL (0.002455)[0m   [0mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.030247)[0m   [0;1malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;35;1mSQL (0.003585)[0m   [0malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.006237)[0m   [0mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;35;1mSQL (0.000292)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000186)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000170)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000708)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.000655)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000401)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000226)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000405)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000388)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000234)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.003337)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.039726)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.001603)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.000266)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000516)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000309)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000601)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000259)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000502)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000251)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000562)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000257)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.037376)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.001289)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000510)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000430)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000554)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000290)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000651)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000585)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000798)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.036950)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.001061)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000294)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000630)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000539)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.000260)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000507)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000287)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000623)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000287)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000252)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.017230)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Can't DROP 'string'; check that column/key exists: ALTER TABLE `accessories` DROP `string`[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000290)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000127)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
Migrating to PlansVersion3 (16)
Migrating to ChargesTables (17)
Migrating to FixPlansIdField (18)
Migrating to PhonesAddFields (19)
Migrating to AccessoriesAddFields (20)
Migrating to CreateOptions (21)
Migrating to PlansOptions (22)
Migrating to PhonesPlansAddRepayments (23)
Migrating to ChargesV2PlansV4 (24)
Migrating to PhonesPlansAddId (25)
Migrating to PartnumAlphanumeric (26)
Migrating to AddPlanGroups (27)
Migrating to AddPrice (28)
Migrating to ChangePlanPeriod (29)
Migrating to Charges (30)
Migrating to Morephonesinfo (31)
Migrating to CreateChargesPlans (32)
Migrating to PhonesAddPics (33)
Migrating to PlansAddDescription (34)
Migrating to AccessoriesAddFields2 (35)
Migrating to CreateLogos (36)
Migrating to FeaturesAddPic (37)
Migrating to OptionsAddIncrement (38)
Migrating to PlansAddIncrement (39)
Migrating to CreateUsers (40)
Migrating to CreateProducts (41)
Migrating to CreateSessions (42)
Migrating to CreateOrders (43)
Migrating to CreateLineItems (44)
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.000317)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000081)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000253)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000822)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.000813)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000538)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000530)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000272)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000552)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000265)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000524)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000279)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000460)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000597)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.045514)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.008011)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000574)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000561)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000276)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000502)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000510)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000508)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000269)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.000947)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.000946)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000459)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.036771)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000772)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000440)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000270)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000495)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000302)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000599)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000795)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000442)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000277)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000519)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.036642)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.001011)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000547)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000517)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000262)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000286)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000246)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000119)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'brand'; check that column/key exists: ALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000290)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.004645)[0m   [0mDELETE FROM schema_migrations WHERE version = '45'[0m
Migrating to CreateLineItems (44)
  [4;36;1mSQL (0.015797)[0m   [0;1mDROP TABLE `line_items`[0m
  [4;35;1mSQL (0.000459)[0m   [0mDELETE FROM schema_migrations WHERE version = '44'[0m
Migrating to CreateOrders (43)
  [4;36;1mSQL (0.000737)[0m   [0;1mDROP TABLE `orders`[0m
  [4;35;1mSQL (0.000293)[0m   [0mDELETE FROM schema_migrations WHERE version = '43'[0m
Migrating to CreateSessions (42)
  [4;36;1mSQL (0.000926)[0m   [0;1mDROP TABLE `sessions`[0m
  [4;35;1mSQL (0.000448)[0m   [0mDELETE FROM schema_migrations WHERE version = '42'[0m
Migrating to CreateProducts (41)
  [4;36;1mSQL (0.000655)[0m   [0;1mDROP TABLE `products`[0m
  [4;35;1mSQL (0.000253)[0m   [0mDELETE FROM schema_migrations WHERE version = '41'[0m
Migrating to CreateUsers (40)
  [4;36;1mSQL (0.000646)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (0.000248)[0m   [0mDELETE FROM schema_migrations WHERE version = '40'[0m
Migrating to PlansAddIncrement (39)
  [4;36;1mSQL (0.000213)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '39'[0m
Migrating to OptionsAddIncrement (38)
  [4;35;1mSQL (0.000195)[0m   [0mDELETE FROM schema_migrations WHERE version = '38'[0m
Migrating to FeaturesAddPic (37)
  [4;36;1mSQL (0.002801)[0m   [0;1mALTER TABLE `features` DROP `picture_name`[0m
  [4;35;1mSQL (0.002642)[0m   [0mALTER TABLE `features` DROP `picture_type`[0m
  [4;36;1mSQL (0.004465)[0m   [0;1mALTER TABLE `features` DROP `picture_data`[0m
  [4;35;1mSQL (0.000494)[0m   [0mDELETE FROM schema_migrations WHERE version = '37'[0m
Migrating to CreateLogos (36)
  [4;36;1mSQL (0.001042)[0m   [0;1mDROP TABLE `logos`[0m
  [4;35;1mSQL (0.000296)[0m   [0mDELETE FROM schema_migrations WHERE version = '36'[0m
Migrating to AccessoriesAddFields2 (35)
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Can't DROP 'govt_price'; check that column/key exists: ALTER TABLE `plans` DROP `govt_price`[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000273)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000222)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000234)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000149)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.010453)[0m   [0mALTER TABLE `accessories` DROP `govt_price`[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '35'[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.003120)[0m   [0mALTER TABLE `plans` DROP `description`[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '34'[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.014912)[0m   [0mALTER TABLE `phones` DROP `picture2_name`[0m
  [4;36;1mSQL (0.003096)[0m   [0;1mALTER TABLE `phones` DROP `picture2_type`[0m
  [4;35;1mSQL (0.003089)[0m   [0mALTER TABLE `phones` DROP `picture2_data`[0m
  [4;36;1mSQL (0.003715)[0m   [0;1mALTER TABLE `phones` DROP `picture3_name`[0m
  [4;35;1mSQL (0.003413)[0m   [0mALTER TABLE `phones` DROP `picture3_type`[0m
  [4;36;1mSQL (0.003201)[0m   [0;1mALTER TABLE `phones` DROP `picture3_data`[0m
  [4;35;1mSQL (0.000325)[0m   [0mDELETE FROM schema_migrations WHERE version = '33'[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.000711)[0m   [0;1mDROP TABLE `charges_plans`[0m
  [4;35;1mSQL (0.001198)[0m   [0mDELETE FROM schema_migrations WHERE version = '32'[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.008935)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.002859)[0m   [0mALTER TABLE `phones` DROP `prepaid`[0m
  [4;36;1mSQL (0.003188)[0m   [0;1mALTER TABLE `phones` DROP `brand`[0m
  [4;35;1mSQL (0.003280)[0m   [0mALTER TABLE `phones` DROP `network`[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '31'[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000678)[0m   [0mDROP TABLE `charge_rows`[0m
  [4;36;1mSQL (0.000649)[0m   [0;1mDROP TABLE `charge_columns`[0m
  [4;35;1mSQL (0.000297)[0m   [0mDELETE FROM schema_migrations WHERE version = '30'[0m
Migrating to ChangePlanPeriod (29)
  [4;36;1mSQL (0.003316)[0m   [0;1mALTER TABLE plans MODIFY COLUMN period INTEGER NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000347)[0m   [0mDELETE FROM schema_migrations WHERE version = '29'[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.002781)[0m   [0;1mALTER TABLE `phones` DROP `gov_price`[0m
  [4;35;1mSQL (0.000299)[0m   [0mDELETE FROM schema_migrations WHERE version = '28'[0m
Migrating to AddPlanGroups (27)
  [4;36;1mSQL (0.003070)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.002932)[0m   [0mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000380)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '27'[0m
Migrating to PartnumAlphanumeric (26)
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003142)[0m   [0;1mALTER TABLE `phones` CHANGE `partnum` `partnum` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000795)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003228)[0m   [0;1mALTER TABLE `accessories` CHANGE `partnum` `partnum` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000353)[0m   [0mDELETE FROM schema_migrations WHERE version = '26'[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.002763)[0m   [0;1mALTER TABLE `phones_plans` DROP `id`[0m
  [4;35;1mSQL (0.000309)[0m   [0mDELETE FROM schema_migrations WHERE version = '25'[0m
Migrating to ChargesV2PlansV4 (24)
  [4;36;1mSQL (0.002883)[0m   [0;1mALTER TABLE `plans` DROP `charge_type`[0m
  [4;35;1mSQL (0.000369)[0m   [0mDELETE FROM schema_migrations WHERE version = '24'[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;36;1mSQL (0.002681)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.000421)[0m   [0mDELETE FROM schema_migrations WHERE version = '23'[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.000950)[0m   [0;1mDROP TABLE `plans_options`[0m
  [4;35;1mSQL (0.000850)[0m   [0mDELETE FROM schema_migrations WHERE version = '22'[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.000773)[0m   [0;1mDROP TABLE `options`[0m
  [4;35;1mSQL (0.000349)[0m   [0mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003221)[0m   [0;1mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;35;1mSQL (0.007112)[0m   [0mALTER TABLE `accessories` DROP `supplier`[0m
  [4;36;1mSQL (0.003249)[0m   [0;1mALTER TABLE `accessories` DROP `partnum`[0m
  [4;35;1mSQL (0.002842)[0m   [0mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.003664)[0m   [0mALTER TABLE `phones` DROP `buy_price`[0m
  [4;36;1mSQL (0.002716)[0m   [0;1mALTER TABLE `phones` DROP `supplier`[0m
  [4;35;1mSQL (0.002665)[0m   [0mALTER TABLE `phones` DROP `partnum`[0m
  [4;36;1mSQL (0.004193)[0m   [0;1mALTER TABLE `phones` DROP `corp_price`[0m
  [4;35;1mSQL (0.000902)[0m   [0mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000758)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003394)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002793)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000523)[0m   [0mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Unknown table 'charge_types': DROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.000117)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000240)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000150)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Unknown table 'charge_types': DROP TABLE `charge_types`[0m
  [4;36;1mSQL (0.000117)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000200)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.011759)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002302)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000306)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.002588)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000276)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001469)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001097)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000294)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001889)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000254)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001029)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002903)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001066)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002560)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000378)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.004062)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003347)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000687)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003023)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000370)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.003159)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000655)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003022)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003375)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.006756)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003712)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000622)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003344)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.003416)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000671)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002882)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003098)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003131)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004259)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.008473)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000669)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.008244)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000516)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000805)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003007)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003276)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000746)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003229)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003414)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000757)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.034009)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000790)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000448)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.003605)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003062)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000450)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003529)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.003520)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.003263)[0m   [0;1m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003559)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003613)[0m   [0;1m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003246)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000830)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000457)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.003238)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000824)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003476)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003345)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.005002)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000339)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.002076)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003073)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000565)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.003621)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003475)[0m   [0m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000561)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.004175)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.004011)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003049)[0m   [0mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000446)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.002989)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000388)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.001912)[0m   [0;1mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000627)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.003758)[0m   [0;1mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002945)[0m   [0m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001538)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000654)[0m   [0mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;36;1mSQL (0.007936)[0m   [0;1mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003532)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002909)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001446)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.003408)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002869)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.004631)[0m   [0m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003390)[0m   [0;1m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.006630)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000866)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003447)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.007833)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;36;1mSQL (0.000565)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.003098)[0m   [0mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;36;1mSQL (0.004797)[0m   [0;1mALTER TABLE `phones` ADD `supplier` text[0m
  [4;35;1mSQL (0.005053)[0m   [0mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003171)[0m   [0;1mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003551)[0m   [0mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.005826)[0m   [0;1mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000393)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003229)[0m   [0;1mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003395)[0m   [0mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;36;1mSQL (0.003585)[0m   [0;1mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003442)[0m   [0mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;36;1mSQL (0.004676)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003477)[0m   [0mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.001881)[0m   [0mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;35;1mSQL (0.001739)[0m   [0mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.048080)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.003208)[0m   [0mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003049)[0m   [0;1m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003286)[0m   [0mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;36;1mSQL (0.000380)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;35;1mSQL (0.005861)[0m   [0mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;35;1mSQL (0.009455)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000484)[0m   [0;1mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;35;1mSQL (0.006738)[0m   [0mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;36;1mSQL (0.003387)[0m   [0;1mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;35;1mSQL (0.000394)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.002989)[0m   [0;1mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;35;1mSQL (0.000333)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;36;1mSQL (0.000813)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.007102)[0m   [0mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000826)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003556)[0m   [0mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;35;1mSQL (0.003081)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.004413)[0m   [0;1mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000335)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.024971)[0m   [0;1mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;35;1mSQL (0.008297)[0m   [0mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;35;1mSQL (0.003852)[0m   [0mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000409)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000880)[0m   [0mDROP TABLE IF EXISTS charges[0m
  [4;36;1mSQL (0.001068)[0m   [0;1mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;35;1mSQL (0.000896)[0m   [0mDROP TABLE IF EXISTS charge_types[0m
  [4;36;1mSQL (0.002045)[0m   [0;1mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.005604)[0m   [0mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.006474)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000569)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.010392)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.004289)[0m   [0mALTER TABLE `phones` ADD `brand` text[0m
  [4;36;1mSQL (0.004342)[0m   [0;1mALTER TABLE `phones` ADD `network` text[0m
  [4;35;1mSQL (0.004257)[0m   [0mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;36;1mSQL (0.004414)[0m   [0;1mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.002486)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.002164)[0m   [0;1mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.007395)[0m   [0mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000535)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.009489)[0m   [0mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;36;1mSQL (0.005040)[0m   [0;1mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.016651)[0m   [0mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;36;1mSQL (0.003397)[0m   [0;1mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;35;1mSQL (0.003793)[0m   [0mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.012785)[0m   [0;1mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;35;1mSQL (0.000319)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;36;1mSQL (0.003444)[0m   [0;1mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;35;1mSQL (0.000407)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;36;1mSQL (0.008904)[0m   [0;1mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;35;1mSQL (0.004381)[0m   [0mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000816)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.001460)[0m   [0mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004801)[0m   [0;1mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000406)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;36;1mSQL (0.004251)[0m   [0;1mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004099)[0m   [0mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003204)[0m   [0;1mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000317)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.002765)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000316)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;36;1mSQL (0.003648)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000354)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;36;1mSQL (0.001450)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;36;1mSQL (0.001783)[0m   [0;1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000352)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;36;1mSQL (0.001549)[0m   [0;1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003116)[0m   [0mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;36;1mSQL (0.010720)[0m   [0;1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;35;1mSQL (0.000398)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;36;1mSQL (0.001584)[0m   [0;1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000387)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;36;1mSQL (0.001362)[0m   [0;1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004803)[0m   [0malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;36;1mSQL (0.005295)[0m   [0;1malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;35;1mSQL (0.000412)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AddBrandToAccessories (45)
  [4;36;1mSQL (0.004304)[0m   [0;1mALTER TABLE `accessories` ADD `brand` varchar(255)[0m
  [4;35;1mSQL (0.000405)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;36;1mSQL (0.000278)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000152)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000169)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000765)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.000788)[0m   [0;1mdescribe `accessories`[0m
  [4;35;1mSQL (0.000380)[0m   [0mSHOW KEYS FROM `accessories`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mSHOW FIELDS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000507)[0m   [0mdescribe `charge_columns`[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mSHOW KEYS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000491)[0m   [0mSHOW FIELDS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000540)[0m   [0;1mdescribe `charge_rows`[0m
  [4;35;1mSQL (0.000330)[0m   [0mSHOW KEYS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000486)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000523)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;35;1mSQL (0.000414)[0m   [0mSHOW FIELDS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mdescribe `charges_plans`[0m
  [4;35;1mSQL (0.042099)[0m   [0mSHOW KEYS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000699)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.000889)[0m   [0mdescribe `features`[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mSHOW KEYS FROM `features`[0m
  [4;35;1mSQL (0.000563)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.000299)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSHOW FIELDS FROM `logos`[0m
  [4;35;1mSQL (0.000558)[0m   [0mdescribe `logos`[0m
  [4;36;1mSQL (0.000269)[0m   [0;1mSHOW KEYS FROM `logos`[0m
  [4;35;1mSQL (0.000541)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mdescribe `options`[0m
  [4;35;1mSQL (0.000259)[0m   [0mSHOW KEYS FROM `options`[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.000512)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.000261)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.036797)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.001037)[0m   [0;1mdescribe `phones`[0m
  [4;35;1mSQL (0.000285)[0m   [0mSHOW KEYS FROM `phones`[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mSHOW FIELDS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000436)[0m   [0mdescribe `phones_accessories`[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mSHOW KEYS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000495)[0m   [0mSHOW FIELDS FROM `phones_features`[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mdescribe `phones_features`[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW KEYS FROM `phones_features`[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000498)[0m   [0mdescribe `phones_plans`[0m
  [4;36;1mSQL (0.000281)[0m   [0;1mSHOW KEYS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000634)[0m   [0mSHOW FIELDS FROM `plan_groups`[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mdescribe `plan_groups`[0m
  [4;35;1mSQL (0.000836)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000782)[0m   [0;1mdescribe `plans`[0m
  [4;35;1mSQL (0.036748)[0m   [0mSHOW FIELDS FROM `plans_options`[0m
  [4;36;1mSQL (0.001038)[0m   [0;1mdescribe `plans_options`[0m
  [4;35;1mSQL (0.000276)[0m   [0mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000475)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.000409)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.000438)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.000220)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000332)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000129)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000299)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.012165)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Can't DROP 'string'; check that column/key exists: ALTER TABLE `accessories` DROP `string`[0m
  [4;36;1mSQL (0.000116)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000287)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000200)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000217)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.009162)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002628)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000264)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000088)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000183)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000211)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000112)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000093)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.005672)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000285)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001345)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000232)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001688)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000257)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001230)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000254)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001028)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003016)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000292)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001329)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002931)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000269)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001072)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002777)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000336)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000617)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003095)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000540)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.005933)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002716)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002709)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002857)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.011443)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000362)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000565)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002712)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000285)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.004485)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003257)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002769)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003679)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003409)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003210)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000324)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003186)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000285)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000669)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003248)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003248)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000673)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003286)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003061)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000317)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003843)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000701)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000309)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003492)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.003198)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000727)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003261)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.002946)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.002742)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003158)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.002996)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003366)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000789)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.004109)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000757)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003550)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002749)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003182)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.003728)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003172)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000281)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000504)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003022)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003159)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000553)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002934)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002646)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002707)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000496)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003400)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000280)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001198)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.014459)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003678)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001448)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.002753)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002686)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003093)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001421)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000531)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.002833)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002721)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.010240)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003929)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003850)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000454)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000761)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004366)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004514)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;35;1mSQL (0.000299)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003675)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.006549)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003422)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003052)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.009581)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.002898)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003367)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.002886)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.003184)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003673)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.006733)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.002803)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000294)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.001189)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000493)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.001271)[0m   [0;1mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.047322)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.003366)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.015720)[0m   [0m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003531)[0m   [0;1mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;35;1mSQL (0.000421)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;36;1mSQL (0.003009)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.000342)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;36;1mSQL (0.009681)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000404)[0m   [0mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;36;1mSQL (0.003333)[0m   [0;1mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;35;1mSQL (0.003275)[0m   [0mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;35;1mSQL (0.003825)[0m   [0mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;35;1mSQL (0.000807)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.005927)[0m   [0;1mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000788)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.009654)[0m   [0;1mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000383)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;36;1mSQL (0.003949)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.007178)[0m   [0mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;35;1mSQL (0.003662)[0m   [0mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;36;1mSQL (0.003396)[0m   [0;1mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000303)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;36;1mSQL (0.003598)[0m   [0;1mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000351)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;36;1mSQL (0.000711)[0m   [0;1mDROP TABLE IF EXISTS charges[0m
  [4;35;1mSQL (0.000648)[0m   [0mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;36;1mSQL (0.000688)[0m   [0;1mDROP TABLE IF EXISTS charge_types[0m
  [4;35;1mSQL (0.001893)[0m   [0mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001146)[0m   [0;1mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001335)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000284)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;35;1mSQL (0.002970)[0m   [0mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;36;1mSQL (0.003540)[0m   [0;1mALTER TABLE `phones` ADD `brand` text[0m
  [4;35;1mSQL (0.003709)[0m   [0mALTER TABLE `phones` ADD `network` text[0m
  [4;36;1mSQL (0.005019)[0m   [0;1mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;35;1mSQL (0.003527)[0m   [0mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000342)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;35;1mSQL (0.001204)[0m   [0mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002716)[0m   [0;1mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000341)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;36;1mSQL (0.003772)[0m   [0;1mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;35;1mSQL (0.003772)[0m   [0mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003345)[0m   [0;1mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;35;1mSQL (0.003323)[0m   [0mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;36;1mSQL (0.003438)[0m   [0;1mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.007214)[0m   [0mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.003733)[0m   [0mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.003549)[0m   [0mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;36;1mSQL (0.004098)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000303)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;36;1mSQL (0.001442)[0m   [0;1mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002793)[0m   [0mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000668)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;35;1mSQL (0.002785)[0m   [0mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.002845)[0m   [0;1mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003442)[0m   [0mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;35;1mSQL (0.003201)[0m   [0mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;35;1mSQL (0.003698)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;35;1mSQL (0.001575)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000259)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;35;1mSQL (0.001441)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;35;1mSQL (0.001210)[0m   [0mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003072)[0m   [0;1mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;35;1mSQL (0.003798)[0m   [0mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;35;1mSQL (0.001362)[0m   [0mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000260)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;35;1mSQL (0.001205)[0m   [0mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003894)[0m   [0;1malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;35;1mSQL (0.003017)[0m   [0malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AccessoriesAddBrand (45)
  [4;35;1mSQL (0.004316)[0m   [0mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;36;1mSQL (0.000287)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;35;1mSQL (0.000249)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000166)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000689)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.000738)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000392)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000222)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000421)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000226)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000396)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000239)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000320)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.041391)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.001435)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.000269)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000515)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000595)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000263)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000541)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000517)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000254)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000562)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000260)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.036920)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.001288)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000292)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000477)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000276)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000440)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000547)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000284)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000609)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000836)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000779)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.037093)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.001036)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000257)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000469)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.000183)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.000453)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000436)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000220)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000470)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000181)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000310)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000273)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddBrand (45)
  [4;35;1mSQL (0.015033)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Can't DROP 'string'; check that column/key exists: ALTER TABLE `accessories` DROP `string`[0m
  [4;36;1mSQL (0.000102)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000287)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000247)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000649)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
Migrating to PlansVersion3 (16)
Migrating to ChargesTables (17)
Migrating to FixPlansIdField (18)
Migrating to PhonesAddFields (19)
Migrating to AccessoriesAddFields (20)
Migrating to CreateOptions (21)
Migrating to PlansOptions (22)
Migrating to PhonesPlansAddRepayments (23)
Migrating to ChargesV2PlansV4 (24)
Migrating to PhonesPlansAddId (25)
Migrating to PartnumAlphanumeric (26)
Migrating to AddPlanGroups (27)
Migrating to AddPrice (28)
Migrating to ChangePlanPeriod (29)
Migrating to Charges (30)
Migrating to Morephonesinfo (31)
Migrating to CreateChargesPlans (32)
Migrating to PhonesAddPics (33)
Migrating to PlansAddDescription (34)
Migrating to AccessoriesAddFields2 (35)
Migrating to CreateLogos (36)
Migrating to FeaturesAddPic (37)
Migrating to OptionsAddIncrement (38)
Migrating to PlansAddIncrement (39)
Migrating to CreateUsers (40)
Migrating to CreateProducts (41)
Migrating to CreateSessions (42)
Migrating to CreateOrders (43)
Migrating to CreateLineItems (44)
Migrating to AccessoriesAddBrand (45)
  [4;35;1mSQL (0.000286)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000199)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.001015)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000211)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000434)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000210)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000465)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000204)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000454)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000486)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000387)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000512)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000657)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.045018)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.008063)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000553)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000457)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000483)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000187)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000431)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000192)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000414)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000220)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.000845)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.000868)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000197)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000345)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.036559)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000641)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000324)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000381)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000227)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000553)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000731)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000365)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000231)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000445)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.036107)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.000925)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000407)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000413)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000193)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000118)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000199)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.006833)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002467)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000229)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000297)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.002556)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000273)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001161)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000253)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001296)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000262)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001561)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000363)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001308)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003973)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000285)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001067)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002788)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000320)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001065)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002828)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000541)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000614)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.007434)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000426)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.002685)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000607)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002871)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003121)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.002669)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.009182)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000548)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002896)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000320)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.002567)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000607)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.022743)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.010066)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004073)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004110)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000888)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003995)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.003395)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000705)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002825)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.010019)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000768)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004166)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003944)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000719)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003984)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000318)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.004279)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003886)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000710)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000317)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003505)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.004098)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.002760)[0m   [0;1m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.004039)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003807)[0m   [0;1m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002851)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000753)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000309)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.003711)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000754)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003681)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003028)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.002920)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000313)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.001672)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002783)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000501)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002984)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002970)[0m   [0m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000492)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003006)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.002629)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002901)[0m   [0mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000313)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.003155)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000311)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.001502)[0m   [0;1mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000554)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.003212)[0m   [0;1mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002683)[0m   [0m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001235)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000562)[0m   [0mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;36;1mSQL (0.003160)[0m   [0;1mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002816)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002930)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001411)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.002787)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002776)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002839)[0m   [0m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003291)[0m   [0;1m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002557)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000756)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003557)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002861)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;36;1mSQL (0.000290)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.002833)[0m   [0mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003330)[0m   [0;1mALTER TABLE `phones` ADD `supplier` text[0m
  [4;35;1mSQL (0.002916)[0m   [0mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003442)[0m   [0;1mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003445)[0m   [0mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003427)[0m   [0;1mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.002909)[0m   [0;1mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;35;1mSQL (0.006983)[0m   [0mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;36;1mSQL (0.003035)[0m   [0;1mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003416)[0m   [0mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003088)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003278)[0m   [0mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000338)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.001415)[0m   [0mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000298)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;35;1mSQL (0.001049)[0m   [0mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.047376)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.003165)[0m   [0mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002982)[0m   [0;1m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003013)[0m   [0mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;35;1mSQL (0.003958)[0m   [0mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;35;1mSQL (0.009505)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;35;1mSQL (0.003627)[0m   [0mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;36;1mSQL (0.003447)[0m   [0;1mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;35;1mSQL (0.000299)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.002988)[0m   [0;1mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;35;1mSQL (0.000534)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;36;1mSQL (0.000840)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003547)[0m   [0mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000761)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003252)[0m   [0mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;35;1mSQL (0.003233)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.002790)[0m   [0;1mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000283)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.003061)[0m   [0;1mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;35;1mSQL (0.002844)[0m   [0mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;35;1mSQL (0.003692)[0m   [0mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000346)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000708)[0m   [0mDROP TABLE IF EXISTS charges[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;35;1mSQL (0.000940)[0m   [0mDROP TABLE IF EXISTS charge_types[0m
  [4;36;1mSQL (0.001684)[0m   [0;1mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001350)[0m   [0mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001467)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000274)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.002894)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.002932)[0m   [0mALTER TABLE `phones` ADD `brand` text[0m
  [4;36;1mSQL (0.003207)[0m   [0;1mALTER TABLE `phones` ADD `network` text[0m
  [4;35;1mSQL (0.003194)[0m   [0mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;36;1mSQL (0.003106)[0m   [0;1mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000335)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.001115)[0m   [0;1mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003389)[0m   [0mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.003043)[0m   [0mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;36;1mSQL (0.003408)[0m   [0;1mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003894)[0m   [0mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;36;1mSQL (0.003099)[0m   [0;1mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;35;1mSQL (0.003855)[0m   [0mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003347)[0m   [0;1mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;35;1mSQL (0.000341)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;36;1mSQL (0.002963)[0m   [0;1mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;35;1mSQL (0.000274)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;36;1mSQL (0.003306)[0m   [0;1mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;35;1mSQL (0.003217)[0m   [0mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.001384)[0m   [0mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002814)[0m   [0;1mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000578)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;36;1mSQL (0.002916)[0m   [0;1mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003448)[0m   [0mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002921)[0m   [0;1mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000353)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.003107)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000292)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;36;1mSQL (0.002952)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000309)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;36;1mSQL (0.001397)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000337)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;36;1mSQL (0.001601)[0m   [0;1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000265)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;36;1mSQL (0.001302)[0m   [0;1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002882)[0m   [0mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;36;1mSQL (0.023944)[0m   [0;1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;35;1mSQL (0.000343)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;36;1mSQL (0.001458)[0m   [0;1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000841)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;36;1mSQL (0.001069)[0m   [0;1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003158)[0m   [0malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;36;1mSQL (0.003460)[0m   [0;1malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;35;1mSQL (0.000462)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AccessoriesAddBrand (45)
  [4;36;1mSQL (0.002949)[0m   [0;1mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;35;1mSQL (0.000309)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;36;1mSQL (0.000333)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000187)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000730)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mdescribe `accessories`[0m
  [4;35;1mSQL (0.000271)[0m   [0mSHOW KEYS FROM `accessories`[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mSHOW FIELDS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000387)[0m   [0mdescribe `charge_columns`[0m
  [4;36;1mSQL (0.000221)[0m   [0;1mSHOW KEYS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000378)[0m   [0mSHOW FIELDS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mdescribe `charge_rows`[0m
  [4;35;1mSQL (0.000231)[0m   [0mSHOW KEYS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000387)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000243)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;35;1mSQL (0.000308)[0m   [0mSHOW FIELDS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mdescribe `charges_plans`[0m
  [4;35;1mSQL (0.040730)[0m   [0mSHOW KEYS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000806)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.000948)[0m   [0mdescribe `features`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mSHOW KEYS FROM `features`[0m
  [4;35;1mSQL (0.000538)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.000295)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSHOW FIELDS FROM `logos`[0m
  [4;35;1mSQL (0.000542)[0m   [0mdescribe `logos`[0m
  [4;36;1mSQL (0.000268)[0m   [0;1mSHOW KEYS FROM `logos`[0m
  [4;35;1mSQL (0.000531)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mdescribe `options`[0m
  [4;35;1mSQL (0.000251)[0m   [0mSHOW KEYS FROM `options`[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.000517)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.037246)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.001265)[0m   [0;1mdescribe `phones`[0m
  [4;35;1mSQL (0.000303)[0m   [0mSHOW KEYS FROM `phones`[0m
  [4;36;1mSQL (0.000502)[0m   [0;1mSHOW FIELDS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000442)[0m   [0mdescribe `phones_accessories`[0m
  [4;36;1mSQL (0.000288)[0m   [0;1mSHOW KEYS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000499)[0m   [0mSHOW FIELDS FROM `phones_features`[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mdescribe `phones_features`[0m
  [4;35;1mSQL (0.000298)[0m   [0mSHOW KEYS FROM `phones_features`[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000487)[0m   [0mdescribe `phones_plans`[0m
  [4;36;1mSQL (0.000304)[0m   [0;1mSHOW KEYS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000634)[0m   [0mSHOW FIELDS FROM `plan_groups`[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mdescribe `plan_groups`[0m
  [4;35;1mSQL (0.000846)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mdescribe `plans`[0m
  [4;35;1mSQL (0.037526)[0m   [0mSHOW FIELDS FROM `plans_options`[0m
  [4;36;1mSQL (0.001233)[0m   [0;1mdescribe `plans_options`[0m
  [4;35;1mSQL (0.000382)[0m   [0mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.000527)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.000270)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.000582)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.000292)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000519)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000275)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000117)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000282)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000192)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddBrand (45)
  [4;35;1mSQL (0.004650)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mMysql::Error: Can't DROP 'string'; check that column/key exists: ALTER TABLE `accessories` DROP `string`[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000309)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000070)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000249)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddBrand (45)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'brand'; check that column/key exists: ALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000115)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000274)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000119)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
Migrating to PlansVersion3 (16)
Migrating to ChargesTables (17)
Migrating to FixPlansIdField (18)
Migrating to PhonesAddFields (19)
Migrating to AccessoriesAddFields (20)
Migrating to CreateOptions (21)
Migrating to PlansOptions (22)
Migrating to PhonesPlansAddRepayments (23)
Migrating to ChargesV2PlansV4 (24)
Migrating to PhonesPlansAddId (25)
Migrating to PartnumAlphanumeric (26)
Migrating to AddPlanGroups (27)
Migrating to AddPrice (28)
Migrating to ChangePlanPeriod (29)
Migrating to Charges (30)
Migrating to Morephonesinfo (31)
Migrating to CreateChargesPlans (32)
Migrating to PhonesAddPics (33)
Migrating to PlansAddDescription (34)
Migrating to AccessoriesAddFields2 (35)
Migrating to CreateLogos (36)
Migrating to FeaturesAddPic (37)
Migrating to OptionsAddIncrement (38)
Migrating to PlansAddIncrement (39)
Migrating to CreateUsers (40)
Migrating to CreateProducts (41)
Migrating to CreateSessions (42)
Migrating to CreateOrders (43)
Migrating to CreateLineItems (44)
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.000278)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000186)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000791)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.000688)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000406)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000200)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000457)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000447)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000480)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000390)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.000208)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000632)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.044836)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.007951)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000563)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000235)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000418)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000498)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000185)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000430)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000412)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000184)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.000841)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.000900)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000333)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.036453)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000634)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000498)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000334)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000389)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000207)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000501)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000682)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000712)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.000357)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000212)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000402)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.036078)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.000870)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000403)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000458)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000177)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000289)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000256)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000122)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'brand'; check that column/key exists: ALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000194)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001644)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002505)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000164)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000300)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.001455)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000273)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001285)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000252)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001286)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000259)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001648)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000231)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001007)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002621)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000279)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001412)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002898)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000271)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001069)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002645)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000260)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000585)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003440)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000298)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.003065)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000622)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002962)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003037)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003167)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003274)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000546)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003225)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000294)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.003074)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000675)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003335)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002776)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003432)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.002801)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003367)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.005597)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000309)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000676)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.002916)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002979)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000721)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003179)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002921)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000718)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003946)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000334)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.005014)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.003217)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000332)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003364)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.003425)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.008230)[0m   [0;1m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002907)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.002773)[0m   [0;1m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.004075)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000772)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000312)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.007143)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000782)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.007321)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002991)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.002848)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000304)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.001592)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003177)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000496)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.010268)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.004375)[0m   [0m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000507)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.002828)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.002579)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003349)[0m   [0mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000304)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.003820)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000306)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.001845)[0m   [0;1mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000546)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.003488)[0m   [0;1mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002797)[0m   [0m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001973)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000573)[0m   [0mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;36;1mSQL (0.003047)[0m   [0;1mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002845)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.004113)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001436)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.007898)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003107)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002960)[0m   [0m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003252)[0m   [0;1m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002769)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003793)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003488)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;36;1mSQL (0.000313)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.003265)[0m   [0mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003626)[0m   [0;1mALTER TABLE `phones` ADD `supplier` text[0m
  [4;35;1mSQL (0.003372)[0m   [0mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003630)[0m   [0;1mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003440)[0m   [0mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003689)[0m   [0;1mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003273)[0m   [0;1mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003357)[0m   [0mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;36;1mSQL (0.003046)[0m   [0;1mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003424)[0m   [0mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;36;1mSQL (0.009096)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.003472)[0m   [0mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.001861)[0m   [0mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;35;1mSQL (0.001680)[0m   [0mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.052599)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.003860)[0m   [0mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002728)[0m   [0;1m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002680)[0m   [0mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;35;1mSQL (0.003312)[0m   [0mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;36;1mSQL (0.000341)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;35;1mSQL (0.009392)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;35;1mSQL (0.003409)[0m   [0mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;36;1mSQL (0.003612)[0m   [0;1mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;35;1mSQL (0.000315)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.017097)[0m   [0;1mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;35;1mSQL (0.000401)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;36;1mSQL (0.000762)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.008660)[0m   [0mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000798)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004275)[0m   [0mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;35;1mSQL (0.002808)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.003100)[0m   [0;1mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000768)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.003174)[0m   [0;1mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;35;1mSQL (0.003284)[0m   [0mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;35;1mSQL (0.003074)[0m   [0mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000689)[0m   [0mDROP TABLE IF EXISTS charges[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;35;1mSQL (0.000702)[0m   [0mDROP TABLE IF EXISTS charge_types[0m
  [4;36;1mSQL (0.001634)[0m   [0;1mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001302)[0m   [0mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003345)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000284)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.003255)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.003332)[0m   [0mALTER TABLE `phones` ADD `brand` text[0m
  [4;36;1mSQL (0.003624)[0m   [0;1mALTER TABLE `phones` ADD `network` text[0m
  [4;35;1mSQL (0.002903)[0m   [0mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;36;1mSQL (0.003173)[0m   [0;1mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000332)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.001424)[0m   [0;1mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003252)[0m   [0mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.003082)[0m   [0mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;36;1mSQL (0.003337)[0m   [0;1mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003350)[0m   [0mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;36;1mSQL (0.003082)[0m   [0;1mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;35;1mSQL (0.003819)[0m   [0mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.006255)[0m   [0;1mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;35;1mSQL (0.000298)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;36;1mSQL (0.003380)[0m   [0;1mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;35;1mSQL (0.000326)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;36;1mSQL (0.003530)[0m   [0;1mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;35;1mSQL (0.003345)[0m   [0mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.001765)[0m   [0mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003191)[0m   [0;1mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000404)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;36;1mSQL (0.002686)[0m   [0;1mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002816)[0m   [0mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003001)[0m   [0;1mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000312)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.006893)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000304)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;36;1mSQL (0.003573)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000318)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;36;1mSQL (0.001596)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000465)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;36;1mSQL (0.001549)[0m   [0;1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000261)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;36;1mSQL (0.001327)[0m   [0;1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002803)[0m   [0mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;36;1mSQL (0.003379)[0m   [0;1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;35;1mSQL (0.000776)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;36;1mSQL (0.001213)[0m   [0;1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000267)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;36;1mSQL (0.001317)[0m   [0;1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003787)[0m   [0malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;36;1mSQL (0.003250)[0m   [0;1malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AddBrandToAccessories (45)
  [4;36;1mSQL (0.003264)[0m   [0;1mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;35;1mSQL (0.000316)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;36;1mSQL (0.000244)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000140)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000120)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000641)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mdescribe `accessories`[0m
  [4;35;1mSQL (0.000198)[0m   [0mSHOW KEYS FROM `accessories`[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mSHOW FIELDS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000462)[0m   [0mdescribe `charge_columns`[0m
  [4;36;1mSQL (0.000215)[0m   [0;1mSHOW KEYS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000513)[0m   [0mSHOW FIELDS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000464)[0m   [0;1mdescribe `charge_rows`[0m
  [4;35;1mSQL (0.000277)[0m   [0mSHOW KEYS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000475)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;35;1mSQL (0.000445)[0m   [0mSHOW FIELDS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mdescribe `charges_plans`[0m
  [4;35;1mSQL (0.041429)[0m   [0mSHOW KEYS FROM `charges_plans`[0m
  [4;36;1mSQL (0.001423)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.000633)[0m   [0mdescribe `features`[0m
  [4;36;1mSQL (0.000267)[0m   [0;1mSHOW KEYS FROM `features`[0m
  [4;35;1mSQL (0.000564)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.000288)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSHOW FIELDS FROM `logos`[0m
  [4;35;1mSQL (0.000560)[0m   [0mdescribe `logos`[0m
  [4;36;1mSQL (0.000262)[0m   [0;1mSHOW KEYS FROM `logos`[0m
  [4;35;1mSQL (0.000554)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mdescribe `options`[0m
  [4;35;1mSQL (0.000257)[0m   [0mSHOW KEYS FROM `options`[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.000529)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.000258)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.037116)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.001268)[0m   [0;1mdescribe `phones`[0m
  [4;35;1mSQL (0.000289)[0m   [0mSHOW KEYS FROM `phones`[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mSHOW FIELDS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000437)[0m   [0mdescribe `phones_accessories`[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mSHOW KEYS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000509)[0m   [0mSHOW FIELDS FROM `phones_features`[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mdescribe `phones_features`[0m
  [4;35;1mSQL (0.000267)[0m   [0mSHOW KEYS FROM `phones_features`[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000496)[0m   [0mdescribe `phones_plans`[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mSHOW KEYS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000655)[0m   [0mSHOW FIELDS FROM `plan_groups`[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mdescribe `plan_groups`[0m
  [4;35;1mSQL (0.000827)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000706)[0m   [0;1mdescribe `plans`[0m
  [4;35;1mSQL (0.036491)[0m   [0mSHOW FIELDS FROM `plans_options`[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mdescribe `plans_options`[0m
  [4;35;1mSQL (0.000284)[0m   [0mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.000519)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.000259)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.000562)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.000285)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000509)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000250)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000310)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000070)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000273)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.008668)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.002207)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '45'[0m
Migrating to CreateLineItems (44)
  [4;35;1mSQL (0.000932)[0m   [0mDROP TABLE `line_items`[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '44'[0m
Migrating to CreateOrders (43)
  [4;35;1mSQL (0.000689)[0m   [0mDROP TABLE `orders`[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '43'[0m
Migrating to CreateSessions (42)
  [4;35;1mSQL (0.000940)[0m   [0mDROP TABLE `sessions`[0m
  [4;36;1mSQL (0.000348)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '42'[0m
Migrating to CreateProducts (41)
  [4;35;1mSQL (0.000680)[0m   [0mDROP TABLE `products`[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '41'[0m
Migrating to CreateUsers (40)
  [4;35;1mSQL (0.000886)[0m   [0mDROP TABLE `users`[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '40'[0m
Migrating to PlansAddIncrement (39)
  [4;35;1mSQL (0.000285)[0m   [0mDELETE FROM schema_migrations WHERE version = '39'[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.000293)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '38'[0m
Migrating to FeaturesAddPic (37)
  [4;35;1mSQL (0.002789)[0m   [0mALTER TABLE `features` DROP `picture_name`[0m
  [4;36;1mSQL (0.004963)[0m   [0;1mALTER TABLE `features` DROP `picture_type`[0m
  [4;35;1mSQL (0.002931)[0m   [0mALTER TABLE `features` DROP `picture_data`[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '37'[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.000841)[0m   [0mDROP TABLE `logos`[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '36'[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.003300)[0m   [0mALTER TABLE `accessories` DROP `govt_price`[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '35'[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.006815)[0m   [0mALTER TABLE `plans` DROP `description`[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '34'[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.003255)[0m   [0mALTER TABLE `phones` DROP `picture2_name`[0m
  [4;36;1mSQL (0.004230)[0m   [0;1mALTER TABLE `phones` DROP `picture2_type`[0m
  [4;35;1mSQL (0.004932)[0m   [0mALTER TABLE `phones` DROP `picture2_data`[0m
  [4;36;1mSQL (0.004185)[0m   [0;1mALTER TABLE `phones` DROP `picture3_name`[0m
  [4;35;1mSQL (0.034848)[0m   [0mALTER TABLE `phones` DROP `picture3_type`[0m
  [4;36;1mSQL (0.003379)[0m   [0;1mALTER TABLE `phones` DROP `picture3_data`[0m
  [4;35;1mSQL (0.000359)[0m   [0mDELETE FROM schema_migrations WHERE version = '33'[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.001068)[0m   [0;1mDROP TABLE `charges_plans`[0m
  [4;35;1mSQL (0.000417)[0m   [0mDELETE FROM schema_migrations WHERE version = '32'[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.003142)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.003309)[0m   [0mALTER TABLE `phones` DROP `prepaid`[0m
  [4;36;1mSQL (0.004004)[0m   [0;1mALTER TABLE `phones` DROP `brand`[0m
  [4;35;1mSQL (0.003614)[0m   [0mALTER TABLE `phones` DROP `network`[0m
  [4;36;1mSQL (0.001100)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '31'[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000743)[0m   [0mDROP TABLE `charge_rows`[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mDROP TABLE `charge_columns`[0m
  [4;35;1mSQL (0.004313)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002421)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Table 'charges' already exists: CREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000215)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.004816)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002781)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000227)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000298)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.002469)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000274)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001349)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000243)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001321)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000253)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001436)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000260)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001220)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004705)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001218)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002525)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001283)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002587)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000601)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003034)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000576)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.002640)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000595)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003104)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002600)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.003026)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.009253)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000554)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002690)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000276)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.003208)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000594)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002939)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002644)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004061)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004185)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.006753)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.002878)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000283)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000683)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003888)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.010089)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000678)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.004141)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002933)[0m   [0;1mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;35;1mSQL (0.000718)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;35;1mSQL (0.003828)[0m   [0mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000810)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000318)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;36;1mSQL (0.003506)[0m   [0;1mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.002694)[0m   [0mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000317)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;36;1mSQL (0.003174)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.003119)[0m   [0mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;36;1mSQL (0.002779)[0m   [0;1m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002734)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003101)[0m   [0;1m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003206)[0m   [0mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000302)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;36;1mSQL (0.009839)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000794)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003106)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.022142)[0m   [0mALTER TABLE `plans` DROP `base_etc`[0m
  [4;36;1mSQL (0.002924)[0m   [0;1mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000291)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.001849)[0m   [0;1mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002710)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;35;1mSQL (0.000496)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002953)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.002823)[0m   [0m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.002705)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.003368)[0m   [0mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000307)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.004272)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000298)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.001218)[0m   [0;1mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000544)[0m   [0mSHOW FIELDS FROM `charge_types`[0m
  [4;36;1mSQL (0.003505)[0m   [0;1mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002825)[0m   [0m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.001474)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000585)[0m   [0mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;36;1mSQL (0.003188)[0m   [0;1mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002728)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003056)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.001404)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.003180)[0m   [0mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003528)[0m   [0;1m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002658)[0m   [0m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.002637)[0m   [0;1m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002763)[0m   [0mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;35;1mSQL (0.000807)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004693)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003100)[0m   [0m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;36;1mSQL (0.000343)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.002811)[0m   [0mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003185)[0m   [0;1mALTER TABLE `phones` ADD `supplier` text[0m
  [4;35;1mSQL (0.003500)[0m   [0mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.004795)[0m   [0;1mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003427)[0m   [0mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003610)[0m   [0;1mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000379)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003250)[0m   [0;1mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003481)[0m   [0mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;36;1mSQL (0.003093)[0m   [0;1mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.003495)[0m   [0mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;36;1mSQL (0.003793)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.002922)[0m   [0mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;35;1mSQL (0.001373)[0m   [0mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;35;1mSQL (0.001493)[0m   [0mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.047839)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.003156)[0m   [0mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003039)[0m   [0;1m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.002639)[0m   [0mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;36;1mSQL (0.000316)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;35;1mSQL (0.004366)[0m   [0mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;36;1mSQL (0.000342)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;35;1mSQL (0.009475)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;35;1mSQL (0.003519)[0m   [0mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;36;1mSQL (0.002866)[0m   [0;1mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;35;1mSQL (0.000313)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.003739)[0m   [0;1mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;35;1mSQL (0.000324)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;36;1mSQL (0.000776)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003316)[0m   [0mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000789)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.005835)[0m   [0mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000309)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;35;1mSQL (0.003433)[0m   [0mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.002899)[0m   [0;1mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000284)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.003431)[0m   [0;1mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;35;1mSQL (0.002866)[0m   [0mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;35;1mSQL (0.002950)[0m   [0mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.001018)[0m   [0mDROP TABLE IF EXISTS charges[0m
  [4;36;1mSQL (0.001210)[0m   [0;1mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;35;1mSQL (0.000608)[0m   [0mDROP TABLE IF EXISTS charge_types[0m
  [4;36;1mSQL (0.001552)[0m   [0;1mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001101)[0m   [0mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001302)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000277)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.002770)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.003668)[0m   [0mALTER TABLE `phones` ADD `brand` text[0m
  [4;36;1mSQL (0.002935)[0m   [0;1mALTER TABLE `phones` ADD `network` text[0m
  [4;35;1mSQL (0.003506)[0m   [0mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;36;1mSQL (0.002913)[0m   [0;1mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000293)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.001686)[0m   [0;1mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003133)[0m   [0mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000334)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.003007)[0m   [0mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;36;1mSQL (0.003475)[0m   [0;1mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003574)[0m   [0mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;36;1mSQL (0.003177)[0m   [0;1mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;35;1mSQL (0.003696)[0m   [0mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003358)[0m   [0;1mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;35;1mSQL (0.000345)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;36;1mSQL (0.003275)[0m   [0;1mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;35;1mSQL (0.000323)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;36;1mSQL (0.006295)[0m   [0;1mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;35;1mSQL (0.038924)[0m   [0mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000306)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.001494)[0m   [0mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002830)[0m   [0;1mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000297)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;36;1mSQL (0.003473)[0m   [0;1mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002832)[0m   [0mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002867)[0m   [0;1mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000315)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.002706)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000282)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;36;1mSQL (0.003084)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;35;1mSQL (0.000326)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;36;1mSQL (0.001204)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000446)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;36;1mSQL (0.001163)[0m   [0;1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;36;1mSQL (0.001321)[0m   [0;1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.004305)[0m   [0mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;36;1mSQL (0.004195)[0m   [0;1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;35;1mSQL (0.000306)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;36;1mSQL (0.001215)[0m   [0;1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000269)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;36;1mSQL (0.001288)[0m   [0;1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003596)[0m   [0malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;36;1mSQL (0.003908)[0m   [0;1malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;35;1mSQL (0.000308)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AddBrandToAccessories (45)
  [4;36;1mSQL (0.003076)[0m   [0;1mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;35;1mSQL (0.000295)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;36;1mSQL (0.000244)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000139)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000136)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000669)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mdescribe `accessories`[0m
  [4;35;1mSQL (0.000205)[0m   [0mSHOW KEYS FROM `accessories`[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mSHOW FIELDS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000466)[0m   [0mdescribe `charge_columns`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mSHOW KEYS FROM `charge_columns`[0m
  [4;35;1mSQL (0.000468)[0m   [0mSHOW FIELDS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mdescribe `charge_rows`[0m
  [4;35;1mSQL (0.000311)[0m   [0mSHOW KEYS FROM `charge_rows`[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.000474)[0m   [0mdescribe `charges`[0m
  [4;36;1mSQL (0.000295)[0m   [0;1mSHOW KEYS FROM `charges`[0m
  [4;35;1mSQL (0.000389)[0m   [0mSHOW FIELDS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mdescribe `charges_plans`[0m
  [4;35;1mSQL (0.041308)[0m   [0mSHOW KEYS FROM `charges_plans`[0m
  [4;36;1mSQL (0.000745)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.000869)[0m   [0mdescribe `features`[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mSHOW KEYS FROM `features`[0m
  [4;35;1mSQL (0.000587)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.000501)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.000301)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSHOW FIELDS FROM `logos`[0m
  [4;35;1mSQL (0.000552)[0m   [0mdescribe `logos`[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mSHOW KEYS FROM `logos`[0m
  [4;35;1mSQL (0.000554)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mdescribe `options`[0m
  [4;35;1mSQL (0.000268)[0m   [0mSHOW KEYS FROM `options`[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.000321)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.000162)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.036945)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.001260)[0m   [0;1mdescribe `phones`[0m
  [4;35;1mSQL (0.000213)[0m   [0mSHOW KEYS FROM `phones`[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mSHOW FIELDS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000328)[0m   [0mdescribe `phones_accessories`[0m
  [4;36;1mSQL (0.000196)[0m   [0;1mSHOW KEYS FROM `phones_accessories`[0m
  [4;35;1mSQL (0.000411)[0m   [0mSHOW FIELDS FROM `phones_features`[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mdescribe `phones_features`[0m
  [4;35;1mSQL (0.000204)[0m   [0mSHOW KEYS FROM `phones_features`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000413)[0m   [0mdescribe `phones_plans`[0m
  [4;36;1mSQL (0.000220)[0m   [0;1mSHOW KEYS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000550)[0m   [0mSHOW FIELDS FROM `plan_groups`[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mdescribe `plan_groups`[0m
  [4;35;1mSQL (0.000646)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000529)[0m   [0;1mdescribe `plans`[0m
  [4;35;1mSQL (0.036553)[0m   [0mSHOW FIELDS FROM `plans_options`[0m
  [4;36;1mSQL (0.000677)[0m   [0;1mdescribe `plans_options`[0m
  [4;35;1mSQL (0.000379)[0m   [0mSHOW KEYS FROM `plans_options`[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.000531)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.000269)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.000563)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.000289)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000515)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000268)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000242)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.014537)[0m   [0mALTER TABLE `accessories` DROP `brand`[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '45'[0m
Migrating to CreateLineItems (44)
  [4;35;1mSQL (0.000908)[0m   [0mDROP TABLE `line_items`[0m
  [4;36;1mSQL (0.000511)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '44'[0m
Migrating to CreateOrders (43)
  [4;35;1mSQL (0.000735)[0m   [0mDROP TABLE `orders`[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '43'[0m
Migrating to CreateSessions (42)
  [4;35;1mSQL (0.000728)[0m   [0mDROP TABLE `sessions`[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '42'[0m
Migrating to CreateProducts (41)
  [4;35;1mSQL (0.000652)[0m   [0mDROP TABLE `products`[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '41'[0m
Migrating to CreateUsers (40)
  [4;35;1mSQL (0.000864)[0m   [0mDROP TABLE `users`[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '40'[0m
Migrating to PlansAddIncrement (39)
  [4;35;1mSQL (0.000280)[0m   [0mDELETE FROM schema_migrations WHERE version = '39'[0m
Migrating to OptionsAddIncrement (38)
  [4;36;1mSQL (0.000282)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '38'[0m
Migrating to FeaturesAddPic (37)
  [4;35;1mSQL (0.012857)[0m   [0mALTER TABLE `features` DROP `picture_name`[0m
  [4;36;1mSQL (0.002800)[0m   [0;1mALTER TABLE `features` DROP `picture_type`[0m
  [4;35;1mSQL (0.002774)[0m   [0mALTER TABLE `features` DROP `picture_data`[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '37'[0m
Migrating to CreateLogos (36)
  [4;35;1mSQL (0.017092)[0m   [0mDROP TABLE `logos`[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '36'[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.003108)[0m   [0mALTER TABLE `accessories` DROP `govt_price`[0m
  [4;36;1mSQL (0.000326)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '35'[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.003209)[0m   [0mALTER TABLE `plans` DROP `description`[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '34'[0m
Migrating to PhonesAddPics (33)
  [4;35;1mSQL (0.003442)[0m   [0mALTER TABLE `phones` DROP `picture2_name`[0m
  [4;36;1mSQL (0.003344)[0m   [0;1mALTER TABLE `phones` DROP `picture2_type`[0m
  [4;35;1mSQL (0.003805)[0m   [0mALTER TABLE `phones` DROP `picture2_data`[0m
  [4;36;1mSQL (0.003282)[0m   [0;1mALTER TABLE `phones` DROP `picture3_name`[0m
  [4;35;1mSQL (0.003317)[0m   [0mALTER TABLE `phones` DROP `picture3_type`[0m
  [4;36;1mSQL (0.003254)[0m   [0;1mALTER TABLE `phones` DROP `picture3_data`[0m
  [4;35;1mSQL (0.001145)[0m   [0mDELETE FROM schema_migrations WHERE version = '33'[0m
Migrating to CreateChargesPlans (32)
  [4;36;1mSQL (0.000781)[0m   [0;1mDROP TABLE `charges_plans`[0m
  [4;35;1mSQL (0.000337)[0m   [0mDELETE FROM schema_migrations WHERE version = '32'[0m
Migrating to Morephonesinfo (31)
  [4;36;1mSQL (0.006802)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.003081)[0m   [0mALTER TABLE `phones` DROP `prepaid`[0m
  [4;36;1mSQL (0.003001)[0m   [0;1mALTER TABLE `phones` DROP `brand`[0m
  [4;35;1mSQL (0.003872)[0m   [0mALTER TABLE `phones` DROP `network`[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '31'[0m
Migrating to Charges (30)
  [4;35;1mSQL (0.000736)[0m   [0mDROP TABLE `charge_rows`[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mDROP TABLE `charge_columns`[0m
  [4;35;1mSQL (0.001461)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001615)[0m   [0;1mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000399)[0m   [0mDELETE FROM schema_migrations WHERE version = '30'[0m
Migrating to ChangePlanPeriod (29)
  [4;36;1mSQL (0.003126)[0m   [0;1mALTER TABLE plans MODIFY COLUMN period INTEGER NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000368)[0m   [0mDELETE FROM schema_migrations WHERE version = '29'[0m
Migrating to AddPrice (28)
  [4;36;1mSQL (0.025351)[0m   [0;1mALTER TABLE `phones` DROP `gov_price`[0m
  [4;35;1mSQL (0.000446)[0m   [0mDELETE FROM schema_migrations WHERE version = '28'[0m
Migrating to AddPlanGroups (27)
  [4;36;1mSQL (0.003292)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.003190)[0m   [0mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '27'[0m
Migrating to PartnumAlphanumeric (26)
  [4;35;1mSQL (0.000769)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003615)[0m   [0;1mALTER TABLE `phones` CHANGE `partnum` `partnum` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000794)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003535)[0m   [0;1mALTER TABLE `accessories` CHANGE `partnum` `partnum` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000327)[0m   [0mDELETE FROM schema_migrations WHERE version = '26'[0m
Migrating to PhonesPlansAddId (25)
  [4;36;1mSQL (0.003193)[0m   [0;1mALTER TABLE `phones_plans` DROP `id`[0m
  [4;35;1mSQL (0.000341)[0m   [0mDELETE FROM schema_migrations WHERE version = '25'[0m
Migrating to ChargesV2PlansV4 (24)
  [4;36;1mSQL (0.003307)[0m   [0;1mALTER TABLE `plans` DROP `charge_type`[0m
  [4;35;1mSQL (0.000320)[0m   [0mDELETE FROM schema_migrations WHERE version = '24'[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;36;1mSQL (0.003307)[0m   [0;1mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;35;1mSQL (0.000312)[0m   [0mDELETE FROM schema_migrations WHERE version = '23'[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.000763)[0m   [0;1mDROP TABLE `plans_options`[0m
  [4;35;1mSQL (0.000334)[0m   [0mDELETE FROM schema_migrations WHERE version = '22'[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.000798)[0m   [0;1mDROP TABLE `options`[0m
  [4;35;1mSQL (0.000585)[0m   [0mDELETE FROM schema_migrations WHERE version = '21'[0m
Migrating to AccessoriesAddFields (20)
  [4;36;1mSQL (0.003122)[0m   [0;1mALTER TABLE `accessories` DROP `buy_price`[0m
  [4;35;1mSQL (0.003168)[0m   [0mALTER TABLE `accessories` DROP `supplier`[0m
  [4;36;1mSQL (0.007132)[0m   [0;1mALTER TABLE `accessories` DROP `partnum`[0m
  [4;35;1mSQL (0.003362)[0m   [0mALTER TABLE `accessories` DROP `corp_price`[0m
  [4;36;1mSQL (0.000342)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20'[0m
Migrating to PhonesAddFields (19)
  [4;35;1mSQL (0.004069)[0m   [0mALTER TABLE `phones` DROP `buy_price`[0m
  [4;36;1mSQL (0.003322)[0m   [0;1mALTER TABLE `phones` DROP `supplier`[0m
  [4;35;1mSQL (0.003171)[0m   [0mALTER TABLE `phones` DROP `partnum`[0m
  [4;36;1mSQL (0.003372)[0m   [0;1mALTER TABLE `phones` DROP `corp_price`[0m
  [4;35;1mSQL (0.000366)[0m   [0mDELETE FROM schema_migrations WHERE version = '19'[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000763)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003744)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003334)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000337)[0m   [0mDELETE FROM schema_migrations WHERE version = '18'[0m
Migrating to ChargesTables (17)
  [4;36;1mSQL (0.000688)[0m   [0;1mDROP TABLE `charge_types`[0m
  [4;35;1mSQL (0.000851)[0m   [0mDROP TABLE `charge_type_fields`[0m
  [4;36;1mSQL (0.000710)[0m   [0;1mDROP TABLE `charges`[0m
  [4;35;1mSQL (0.000328)[0m   [0mDELETE FROM schema_migrations WHERE version = '17'[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000501)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003347)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003537)[0m   [0mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.000316)[0m   [0mSHOW COLUMNS FROM `phones_plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.003227)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `handset_cost` `offer_price` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000552)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.002856)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `offer_price` `offer_price` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000584)[0m   [0mDELETE FROM schema_migrations WHERE version = '16'[0m
Migrating to CreatePlanGroups (15)
  [4;36;1mSQL (0.000739)[0m   [0;1mDROP TABLE `plan_groups`[0m
  [4;35;1mSQL (0.000318)[0m   [0mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000785)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003360)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.000748)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.007369)[0m   [0mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003247)[0m   [0;1mALTER TABLE `plans` DROP `categories`[0m
  [4;35;1mSQL (0.000740)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;35;1mSQL (0.003091)[0m   [0mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000764)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000315)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;36;1mSQL (0.003866)[0m   [0;1mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000718)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;35;1mSQL (0.003327)[0m   [0mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000749)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003614)[0m   [0mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.004778)[0m   [0;1mALTER TABLE `plans` DROP `handset`[0m
  [4;35;1mSQL (0.002807)[0m   [0mALTER TABLE `plans` DROP `plan_group`[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000331)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;36;1mSQL (0.003569)[0m   [0;1mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000750)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003567)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000697)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003295)[0m   [0;1mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003362)[0m   [0mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;36;1mSQL (0.003241)[0m   [0;1mALTER TABLE `plans` DROP `repayments`[0m
  [4;35;1mSQL (0.000330)[0m   [0mDELETE FROM schema_migrations WHERE version = '14'[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003190)[0m   [0;1mALTER TABLE `accessories` DROP `active`[0m
  [4;35;1mSQL (0.000373)[0m   [0mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003362)[0m   [0;1mALTER TABLE `features` DROP `active`[0m
  [4;35;1mSQL (0.000543)[0m   [0mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.000674)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003169)[0m   [0mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.002989)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002690)[0m   [0;1mALTER TABLE `phones` DROP `picture_name`[0m
  [4;35;1mSQL (0.003058)[0m   [0mALTER TABLE `phones` DROP `picture_type`[0m
  [4;36;1mSQL (0.003107)[0m   [0;1mALTER TABLE `phones` DROP `picture_data`[0m
  [4;35;1mSQL (0.000372)[0m   [0mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.050222)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003119)[0m   [0mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.008850)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003178)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000684)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002937)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003425)[0m   [0mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;36;1mSQL (0.003199)[0m   [0;1mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;35;1mSQL (0.003153)[0m   [0mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000629)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002911)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;35;1mSQL (0.000344)[0m   [0mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001004)[0m   [0;1mDROP TABLE `phones_accessories`[0m
  [4;35;1mSQL (0.000370)[0m   [0mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.000724)[0m   [0;1mDROP TABLE `phones_features`[0m
  [4;35;1mSQL (0.000298)[0m   [0mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.000669)[0m   [0;1mDROP TABLE `phones_plans`[0m
  [4;35;1mSQL (0.000302)[0m   [0mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.000650)[0m   [0;1mDROP TABLE `features`[0m
  [4;35;1mSQL (0.000294)[0m   [0mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.000890)[0m   [0;1mDROP TABLE `accessories`[0m
  [4;35;1mSQL (0.000316)[0m   [0mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.000695)[0m   [0;1mDROP TABLE `plans`[0m
  [4;35;1mSQL (0.000313)[0m   [0mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.000673)[0m   [0;1mDROP TABLE `phones`[0m
  [4;35;1mSQL (0.000307)[0m   [0mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;36;1mSQL (0.000198)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000133)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000235)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.005680)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001519)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001310)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000278)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001770)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001407)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003371)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000384)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001433)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002892)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001236)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.008957)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000356)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000538)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003880)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000440)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003861)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.001629)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004245)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003275)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002837)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004048)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000314)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000558)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003426)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002911)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.004168)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003225)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.002978)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003318)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000352)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003238)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000318)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003114)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000512)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000692)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.002938)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002896)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000651)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003318)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003005)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000705)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000311)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.003498)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000693)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003514)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.002909)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000693)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.003204)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.005172)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003874)[0m   [0m ALTER TABLE `plans` CHANGE `handset` `handset` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.003130)[0m   [0;1mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;35;1mSQL (0.004120)[0m   [0m ALTER TABLE `plans` CHANGE `plan_group` `plan_group` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.002988)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000779)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003384)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000718)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.005111)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003139)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003442)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000322)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001486)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003218)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000304)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000558)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;35;1mSQL (0.003122)[0m   [0mALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;36;1mSQL (0.003065)[0m   [0;1m ALTER TABLE `phones_plans` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.000501)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.006260)[0m   [0;1mALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` int(11) DEFAULT 0 NOT NULL[0m
  [4;35;1mSQL (0.003262)[0m   [0m ALTER TABLE `phones_plans` CHANGE `phone_id` `phone_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.025854)[0m   [0;1mALTER TABLE phones_plans MODIFY COLUMN offer_price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000555)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000440)[0m   [0;1mSHOW COLUMNS FROM `phones_plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.004087)[0m   [0mALTER TABLE `phones_plans` CHANGE `offer_price` `handset_cost` decimal(9,2) DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
Migrating to ChargesTables (17)
  [4;35;1mSQL (0.001347)[0m   [0mCREATE TABLE `charge_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mSHOW FIELDS FROM `charge_types`[0m
  [4;35;1mSQL (0.003013)[0m   [0mALTER TABLE `charge_types` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.004234)[0m   [0;1m ALTER TABLE `charge_types` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;35;1mSQL (0.004637)[0m   [0mCREATE TABLE `charge_type_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_type_id` int(11), `name` varchar(255), `description` text, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000644)[0m   [0;1mSHOW FIELDS FROM `charge_type_fields`[0m
  [4;35;1mSQL (0.003341)[0m   [0mALTER TABLE `charge_type_fields` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.002911)[0m   [0;1m ALTER TABLE `charge_type_fields` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.003176)[0m   [0m ALTER TABLE `charge_type_fields` CHANGE `charge_type_id` `charge_type_id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.005727)[0m   [0;1mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `plan_id` int(11), `field_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000621)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.003067)[0m   [0;1mALTER TABLE `charges` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.003950)[0m   [0m ALTER TABLE `charges` CHANGE `id` `id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003324)[0m   [0;1m ALTER TABLE `charges` CHANGE `plan_id` `plan_id` INT( 24 ) NOT NULL[0m
  [4;35;1mSQL (0.002836)[0m   [0m ALTER TABLE `charges` CHANGE `field_id` `field_id` INT( 24 ) NOT NULL[0m
  [4;36;1mSQL (0.003756)[0m   [0;1mALTER TABLE charges MODIFY COLUMN value DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000413)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('17')[0m
Migrating to FixPlansIdField (18)
  [4;36;1mSQL (0.000802)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003576)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;36;1mSQL (0.003318)[0m   [0;1m ALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT [0m
  [4;35;1mSQL (0.000390)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('18')[0m
Migrating to PhonesAddFields (19)
  [4;36;1mSQL (0.003412)[0m   [0;1mALTER TABLE `phones` ADD `buy_price` float[0m
  [4;35;1mSQL (0.003734)[0m   [0mALTER TABLE `phones` ADD `supplier` text[0m
  [4;36;1mSQL (0.003100)[0m   [0;1mALTER TABLE `phones` ADD `partnum` int(11)[0m
  [4;35;1mSQL (0.004316)[0m   [0mALTER TABLE `phones` ADD `corp_price` float[0m
  [4;36;1mSQL (0.004449)[0m   [0;1mALTER TABLE phones MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.007718)[0m   [0mALTER TABLE phones MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('19')[0m
Migrating to AccessoriesAddFields (20)
  [4;35;1mSQL (0.003956)[0m   [0mALTER TABLE `accessories` ADD `buy_price` float[0m
  [4;36;1mSQL (0.003508)[0m   [0;1mALTER TABLE `accessories` ADD `supplier` text[0m
  [4;35;1mSQL (0.003727)[0m   [0mALTER TABLE `accessories` ADD `partnum` int(11)[0m
  [4;36;1mSQL (0.003487)[0m   [0;1mALTER TABLE `accessories` ADD `corp_price` float[0m
  [4;35;1mSQL (0.003232)[0m   [0mALTER TABLE accessories MODIFY COLUMN buy_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.003359)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN corp_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000593)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20')[0m
Migrating to CreateOptions (21)
  [4;36;1mSQL (0.001667)[0m   [0;1mCREATE TABLE `options` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000416)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('21')[0m
Migrating to PlansOptions (22)
  [4;36;1mSQL (0.001406)[0m   [0;1mCREATE TABLE `plans_options` (`plan_id` int(11) NOT NULL, `option_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000609)[0m   [0mSHOW FIELDS FROM `options`[0m
  [4;36;1mSQL (0.002879)[0m   [0;1mALTER TABLE `options` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.002961)[0m   [0m ALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL [0m
  [4;36;1mSQL (0.004380)[0m   [0;1mCREATE INDEX `index_plans_options_on_plan_id_and_option_id` ON `plans_options` (`plan_id`, `option_id`)[0m
  [4;35;1mSQL (0.000392)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('22')[0m
Migrating to PhonesPlansAddRepayments (23)
  [4;36;1mSQL (0.002966)[0m   [0;1mALTER TABLE `phones_plans` ADD `mro` text[0m
  [4;35;1mSQL (0.000341)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('23')[0m
Migrating to ChargesV2PlansV4 (24)
  [4;36;1mSQL (0.048487)[0m   [0;1mSHOW FIELDS FROM `charges`[0m
  [4;35;1mSQL (0.009842)[0m   [0mSHOW COLUMNS FROM `charges` LIKE 'field_id'[0m
  [4;36;1mSQL (0.003439)[0m   [0;1mALTER TABLE `charges` CHANGE `field_id` `charge_type_field` int(24) NOT NULL[0m
  [4;35;1mSQL (0.003094)[0m   [0mALTER TABLE `plans` ADD `charge_type` int(11)[0m
  [4;36;1mSQL (0.000343)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('24')[0m
Migrating to PhonesPlansAddId (25)
  [4;35;1mSQL (0.003546)[0m   [0mALTER TABLE `phones_plans` ADD `id` int(11) DEFAULT NULL auto_increment PRIMARY KEY NOT NULL[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('25')[0m
Migrating to PartnumAlphanumeric (26)
  [4;35;1mSQL (0.000813)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.005725)[0m   [0;1mALTER TABLE `phones` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000976)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.004682)[0m   [0;1mALTER TABLE `accessories` CHANGE `partnum` `partnum` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000371)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('26')[0m
Migrating to AddPlanGroups (27)
  [4;36;1mSQL (0.003931)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.012427)[0m   [0mALTER TABLE plans MODIFY COLUMN categories SET('consumer','business','corporate','government') NOT NULL DEFAULT 'consumer'[0m
  [4;36;1mSQL (0.005090)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('27')[0m
Migrating to AddPrice (28)
  [4;35;1mSQL (0.003408)[0m   [0mALTER TABLE `phones` ADD `gov_price` float[0m
  [4;36;1mSQL (0.003353)[0m   [0;1mALTER TABLE phones MODIFY COLUMN gov_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000367)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('28')[0m
Migrating to ChangePlanPeriod (29)
  [4;36;1mSQL (0.003311)[0m   [0;1mALTER TABLE plans MODIFY COLUMN period TEXT NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000324)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('29')[0m
Migrating to Charges (30)
  [4;36;1mSQL (0.001007)[0m   [0;1mDROP TABLE IF EXISTS charges[0m
  [4;35;1mSQL (0.000786)[0m   [0mDROP TABLE IF EXISTS charge_type_fields[0m
  [4;36;1mSQL (0.000787)[0m   [0;1mDROP TABLE IF EXISTS charge_types[0m
  [4;35;1mSQL (0.001502)[0m   [0mCREATE TABLE `charge_columns` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charge_row_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.001259)[0m   [0;1mCREATE TABLE `charge_rows` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `charges_id` integer, `name` text, `value` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.001455)[0m   [0mCREATE TABLE `charges` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `discontinued` tinyint(1) DEFAULT 0, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('30')[0m
Migrating to Morephonesinfo (31)
  [4;35;1mSQL (0.003361)[0m   [0mALTER TABLE `phones_plans` DROP `mro`[0m
  [4;36;1mSQL (0.003448)[0m   [0;1mALTER TABLE `phones` ADD `brand` text[0m
  [4;35;1mSQL (0.003401)[0m   [0mALTER TABLE `phones` ADD `network` text[0m
  [4;36;1mSQL (0.003413)[0m   [0;1mALTER TABLE `phones` ADD `prepaid` float[0m
  [4;35;1mSQL (0.003702)[0m   [0mALTER TABLE phones MODIFY COLUMN prepaid DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000380)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('31')[0m
Migrating to CreateChargesPlans (32)
  [4;35;1mSQL (0.001252)[0m   [0mCREATE TABLE `charges_plans` (`charge_id` int(11) NOT NULL, `plan_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002839)[0m   [0;1mCREATE INDEX `index_charges_plans_on_charge_id_and_plan_id` ON `charges_plans` (`charge_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000341)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('32')[0m
Migrating to PhonesAddPics (33)
  [4;36;1mSQL (0.003981)[0m   [0;1mALTER TABLE `phones` ADD `picture2_name` varchar(255)[0m
  [4;35;1mSQL (0.003322)[0m   [0mALTER TABLE `phones` ADD `picture2_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003804)[0m   [0;1mALTER TABLE phones ADD COLUMN picture2_data LONGBLOB[0m
  [4;35;1mSQL (0.003907)[0m   [0mALTER TABLE `phones` ADD `picture3_name` varchar(255)[0m
  [4;36;1mSQL (0.003881)[0m   [0;1mALTER TABLE `phones` ADD `picture3_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.003929)[0m   [0mALTER TABLE phones ADD COLUMN picture3_data LONGBLOB[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('33')[0m
Migrating to PlansAddDescription (34)
  [4;35;1mSQL (0.003524)[0m   [0mALTER TABLE `plans` ADD `description` TEXT NOT NULL AFTER `categories`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('34')[0m
Migrating to AccessoriesAddFields2 (35)
  [4;35;1mSQL (0.003894)[0m   [0mALTER TABLE `accessories` ADD `govt_price` float[0m
  [4;36;1mSQL (0.003112)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN govt_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000325)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('35')[0m
Migrating to CreateLogos (36)
  [4;36;1mSQL (0.002287)[0m   [0;1mCREATE TABLE `logos` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `created_at` datetime, `updated_at` datetime, `picture_name` varchar(255), `picture_type` varchar(255) DEFAULT 'image/jpeg') ENGINE=InnoDB[0m
  [4;35;1mSQL (0.013777)[0m   [0mALTER TABLE logos ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('36')[0m
Migrating to FeaturesAddPic (37)
  [4;35;1mSQL (0.004163)[0m   [0mALTER TABLE `features` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004142)[0m   [0;1mALTER TABLE `features` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004191)[0m   [0mALTER TABLE features ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('37')[0m
Migrating to OptionsAddIncrement (38)
  [4;35;1mSQL (0.004040)[0m   [0mALTER TABLE `options` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000832)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('38')[0m
Migrating to PlansAddIncrement (39)
  [4;35;1mSQL (0.004070)[0m   [0mALTER TABLE `plans` CHANGE `id` `id` INT( 24 ) NOT NULL AUTO_INCREMENT[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('39')[0m
Migrating to CreateUsers (40)
  [4;35;1mSQL (0.001677)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `usertype` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('40')[0m
Migrating to CreateProducts (41)
  [4;35;1mSQL (0.001444)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000422)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('41')[0m
Migrating to CreateSessions (42)
  [4;35;1mSQL (0.001645)[0m   [0mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004162)[0m   [0;1mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;35;1mSQL (0.004185)[0m   [0mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('42')[0m
Migrating to CreateOrders (43)
  [4;35;1mSQL (0.001648)[0m   [0mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000947)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('43')[0m
Migrating to CreateLineItems (44)
  [4;35;1mSQL (0.001457)[0m   [0mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.004914)[0m   [0;1malter table line_items add constraint fk_line_item_products 
 foreign key (product_id) references products(id)[0m
  [4;35;1mSQL (0.003623)[0m   [0malter table line_items add constraint fk_line_item_orders
 foreign key (order_id) references orders(id)[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('44')[0m
Migrating to AddBrandToAccessories (45)
  [4;35;1mSQL (0.003990)[0m   [0mALTER TABLE `accessories` ADD `brand` varchar(255) DEFAULT ''[0m
  [4;36;1mSQL (0.000342)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('45')[0m
  [4;35;1mSQL (0.000289)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000152)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000133)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.000580)[0m   [0mdescribe `accessories`[0m
  [4;36;1mSQL (0.000224)[0m   [0;1mSHOW KEYS FROM `accessories`[0m
  [4;35;1mSQL (0.000563)[0m   [0mSHOW FIELDS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mdescribe `charge_columns`[0m
  [4;35;1mSQL (0.000260)[0m   [0mSHOW KEYS FROM `charge_columns`[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSHOW FIELDS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000510)[0m   [0mdescribe `charge_rows`[0m
  [4;36;1mSQL (0.000250)[0m   [0;1mSHOW KEYS FROM `charge_rows`[0m
  [4;35;1mSQL (0.000543)[0m   [0mSHOW FIELDS FROM `charges`[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mdescribe `charges`[0m
  [4;35;1mSQL (0.000254)[0m   [0mSHOW KEYS FROM `charges`[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSHOW FIELDS FROM `charges_plans`[0m
  [4;35;1mSQL (0.000436)[0m   [0mdescribe `charges_plans`[0m
  [4;36;1mSQL (0.041217)[0m   [0;1mSHOW KEYS FROM `charges_plans`[0m
  [4;35;1mSQL (0.001698)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mdescribe `features`[0m
  [4;35;1mSQL (0.000282)[0m   [0mSHOW KEYS FROM `features`[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mSQL (0.000506)[0m   [0mdescribe `line_items`[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mSHOW KEYS FROM `line_items`[0m
  [4;35;1mSQL (0.000606)[0m   [0mSHOW FIELDS FROM `logos`[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mdescribe `logos`[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW KEYS FROM `logos`[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mSHOW FIELDS FROM `options`[0m
  [4;35;1mSQL (0.000388)[0m   [0mdescribe `options`[0m
  [4;36;1mSQL (0.000181)[0m   [0;1mSHOW KEYS FROM `options`[0m
  [4;35;1mSQL (0.000437)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.000183)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.037006)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.001030)[0m   [0mdescribe `phones`[0m
  [4;36;1mSQL (0.000303)[0m   [0;1mSHOW KEYS FROM `phones`[0m
  [4;35;1mSQL (0.000491)[0m   [0mSHOW FIELDS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mdescribe `phones_accessories`[0m
  [4;35;1mSQL (0.000270)[0m   [0mSHOW KEYS FROM `phones_accessories`[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mSHOW FIELDS FROM `phones_features`[0m
  [4;35;1mSQL (0.000420)[0m   [0mdescribe `phones_features`[0m
  [4;36;1mSQL (0.000269)[0m   [0;1mSHOW KEYS FROM `phones_features`[0m
  [4;35;1mSQL (0.000539)[0m   [0mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mdescribe `phones_plans`[0m
  [4;35;1mSQL (0.000288)[0m   [0mSHOW KEYS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSHOW FIELDS FROM `plan_groups`[0m
  [4;35;1mSQL (0.000571)[0m   [0mdescribe `plan_groups`[0m
  [4;36;1mSQL (0.000850)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000763)[0m   [0mdescribe `plans`[0m
  [4;36;1mSQL (0.036846)[0m   [0;1mSHOW FIELDS FROM `plans_options`[0m
  [4;35;1mSQL (0.001034)[0m   [0mdescribe `plans_options`[0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSHOW KEYS FROM `plans_options`[0m
  [4;35;1mSQL (0.000449)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.000182)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.000428)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.000216)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.000455)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.000440)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.000198)[0m   [0mSHOW KEYS FROM `users`[0m
