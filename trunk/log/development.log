
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
DEPRECATION WARNING: config.action_view.cache_template_extensions option has been deprecated and has no affect. Please remove it from your config files.  See http://www.rubyonrails.org/deprecation for details. (called from send at /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/initializer.rb:464)
/!\ FAILSAFE /!\  Tue Sep 30 22:02:01 +1000 2008
  Status: 500 Internal Server Error
  Mysql::Error: Table 'bmtronics_kiosk.sessions' doesn't exist: SHOW FIELDS FROM `sessions`
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/abstract_adapter.rb:147:in `log'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/mysql_adapter.rb:302:in `execute'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/connection_adapters/mysql_adapter.rb:433:in `columns'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1149:in `columns'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1157:in `columns_hash'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:104:in `setup_sessid_compatibility!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:78:in `find_by_session_id'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:288:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.1.1/lib/active_record/base.rb:1267:in `silence'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session/active_record_store.rb:288:in `initialize'
    /usr/lib/ruby/1.8/cgi/session.rb:273:in `new'
    /usr/lib/ruby/1.8/cgi/session.rb:273:in `initialize_without_cgi_reader'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_ext/session.rb:39:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:132:in `new'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:132:in `session'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:168:in `stale_session_check!'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/cgi_process.rb:116:in `session'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:1139:in `assign_shortcuts_without_flash'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/flash.rb:166:in `assign_shortcuts'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:523:in `process_without_filters'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/filters.rb:568:in `process_without_session_management_support'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/session_management.rb:130:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/base.rb:389:in `process'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:149:in `handle_request'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:107:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:104:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.1.1/lib/action_controller/dispatcher.rb:35:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:282:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `each'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/configurator.rb:281:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel/command.rb:212:in `run'
    /usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:503:in `load'
    /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/servers/mongrel.rb:64
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:355:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.1.1/lib/active_support/dependencies.rb:510:in `require'
    /usr/lib/ruby/gems/1.8/gems/rails-2.1.1/lib/commands/server.rb:39
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000206)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.021037)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002881)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000203)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000332)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.002424)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001387)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001572)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000340)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.001270)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000340)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001267)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002818)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000347)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001244)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002756)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000332)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.001280)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002890)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000690)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.007767)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.002718)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000664)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.002888)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.003144)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.002885)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.002905)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000626)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.002963)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.029688)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000702)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003298)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.002883)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004600)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004326)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004047)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.004121)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000869)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000252)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000272)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000758)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000227)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000099)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000731)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000746)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000221)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.001808)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000258)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000769)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000114)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000226)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000679)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000686)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000223)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000135)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000093)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.023813)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000726)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.008825)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000648)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003327)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000680)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.002855)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.002789)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.006554)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.003100)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000569)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003456)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000342)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000721)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003178)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003371)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003098)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.006664)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.002894)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000335)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000644)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003001)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000910)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000805)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000811)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000948)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000774)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.000808)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000948)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000343)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000214)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000164)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000206)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.010001)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001561)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001529)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.002011)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001409)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002962)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000506)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001685)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002780)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001426)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.006268)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000363)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000666)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.193645)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003245)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002991)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.008632)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004212)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.004372)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000847)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000621)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003618)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002893)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003153)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003716)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003221)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000367)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.006404)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000359)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003462)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000823)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000788)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000100)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000221)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.007959)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.003198)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000762)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003888)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000733)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003310)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.003365)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.003813)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.009307)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000619)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004111)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000442)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000747)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.004335)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003781)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.002976)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.003699)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003486)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000475)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000706)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.009418)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000893)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000993)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001173)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001317)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.005367)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.000929)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001206)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000935)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000240)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000173)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000205)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.008580)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000287)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001365)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.002052)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001287)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000261)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.001066)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002937)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000290)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001095)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002683)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001864)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002665)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000289)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000616)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.002785)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.002805)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.007123)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002796)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003559)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.002970)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000362)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000664)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.002979)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.002836)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003745)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.002818)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003723)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.005397)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000293)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003083)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000308)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003082)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000593)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000744)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000257)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000716)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000245)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.015397)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000734)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003617)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004348)[0m   [0mALTER TABLE plans ADD COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer' AFTER name[0m
  [4;36;1mSQL (0.000764)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000465)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'flexi_code'[0m
  [4;36;1mSQL (0.004351)[0m   [0;1mALTER TABLE `plans` CHANGE `flexi_code` `code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000761)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'contract'[0m
  [4;35;1mSQL (0.003557)[0m   [0mALTER TABLE `plans` CHANGE `contract` `period` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.007062)[0m   [0;1mALTER TABLE plans MODIFY COLUMN price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000828)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'price'[0m
  [4;35;1mSQL (0.006890)[0m   [0mALTER TABLE `plans` CHANGE `price` `handset_cost` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.002969)[0m   [0;1mALTER TABLE `plans` ADD `handset` int(11)[0m
  [4;35;1mSQL (0.003259)[0m   [0mALTER TABLE `plans` ADD `plan_group` int(11)[0m
  [4;36;1mSQL (0.003263)[0m   [0;1mALTER TABLE plans MODIFY COLUMN flexi_price DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;35;1mSQL (0.000852)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000475)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'flexi_price'[0m
  [4;35;1mSQL (0.003203)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `offer_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.006652)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003817)[0m   [0;1mALTER TABLE `plans` DROP `base_etc`[0m
  [4;35;1mSQL (0.003698)[0m   [0mALTER TABLE plans ADD COLUMN repayments DECIMAL(9,2) NULL DEFAULT NULL[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.001323)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.002986)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000355)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000567)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000312)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000233)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000216)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.005521)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000871)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003313)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000821)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003254)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.007797)[0m   [0mALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000784)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000476)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'code'[0m
  [4;36;1mSQL (0.005619)[0m   [0;1mALTER TABLE `plans` CHANGE `code` `flexi_code` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000789)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000459)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'period'[0m
  [4;35;1mSQL (0.003181)[0m   [0mALTER TABLE `plans` CHANGE `period` `contract` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000810)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.000456)[0m   [0mSHOW COLUMNS FROM `plans` LIKE 'handset_cost'[0m
  [4;36;1mSQL (0.006130)[0m   [0;1mALTER TABLE `plans` CHANGE `handset_cost` `price` decimal(9,2) DEFAULT NULL[0m
  [4;35;1mSQL (0.000859)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003797)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.002988)[0m   [0mALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.003069)[0m   [0;1mALTER TABLE `plans` DROP `plan_group`[0m
  [4;35;1mSQL (0.000771)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000469)[0m   [0;1mSHOW COLUMNS FROM `plans` LIKE 'offer_price'[0m
  [4;35;1mSQL (0.003552)[0m   [0mALTER TABLE `plans` CHANGE `offer_price` `flexi_price` decimal(9,2) DEFAULT NULL[0m
  [4;36;1mSQL (0.000727)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003391)[0m   [0mALTER TABLE `plans` CHANGE `flexi_price` `flexi_price` int(11) DEFAULT NULL[0m
  [4;36;1mSQL (0.000723)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
  [4;35;1mSQL (0.003452)[0m   [0mALTER TABLE `plans` CHANGE `offer` `offer` text DEFAULT NULL[0m
  [4;36;1mSQL (0.004309)[0m   [0;1mALTER TABLE `plans` ADD `base_etc` int(11)[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000235)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000152)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000103)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000113)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000822)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004878)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000809)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003174)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'categories'; check that column/key exists: ALTER TABLE `plans` DROP `categories`[0m
  [4;36;1mSQL (0.000111)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000202)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000097)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000784)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.014065)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000798)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003142)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000785)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000243)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000106)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000796)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004912)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000836)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003273)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000787)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000250)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000213)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000092)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000766)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.005885)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000780)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.004520)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000807)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000247)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000203)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000104)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000797)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.011273)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.001032)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003107)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000785)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003807)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'handset'; check that column/key exists: ALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.000112)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000227)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
Migrating to CreatePlans (2)
Migrating to CreateAccessories (3)
Migrating to CreateFeatures (4)
Migrating to PhonesPlans (5)
Migrating to PhonesFeatures (6)
Migrating to PhonesAccessories (7)
Migrating to ChangeAccessoryPriceToFloat (8)
Migrating to AccessoriesV3 (9)
Migrating to ChangeFeatureNameToString (10)
Migrating to PhonesChangeNameAndAddPicture (11)
Migrating to FeaturesAddActiveFlagForArchive (12)
Migrating to AccessoriesAddActiveFlagForArchive (13)
Migrating to PlansVersion2 (14)
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.007334)[0m   [0mCREATE TABLE `plan_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text, `categories` integer, `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0, `active` tinyint(1) DEFAULT 1) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003003)[0m   [0;1mALTER TABLE plan_groups MODIFY COLUMN categories SET('consumer','business','corporate') NOT NULL DEFAULT 'consumer'[0m
  [4;35;1mSQL (0.000305)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to PlansVersion3 (16)
  [4;36;1mSQL (0.000469)[0m   [0;1mSHOW FIELDS FROM `phones_plans`[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000236)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000191)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000201)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000101)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlanGroups (15)
  [4;35;1mSQL (0.005074)[0m   [0mDROP TABLE `plan_groups`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '15'[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000739)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003500)[0m   [0;1mALTER TABLE `plans` CHANGE `id` `id` int(11) NOT NULL[0m
  [4;35;1mSQL (0.000790)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003293)[0m   [0;1mALTER TABLE `plans` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000885)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.003457)[0m   [0;1mALTER TABLE `plans` CHANGE `price` `price` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.000000)[0m   [0mMysql::Error: Can't DROP 'handset'; check that column/key exists: ALTER TABLE `plans` DROP `handset`[0m
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000209)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.005362)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.002764)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.000299)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;36;1mSQL (0.001359)[0m   [0;1mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;36;1mSQL (0.001664)[0m   [0;1mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000337)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;36;1mSQL (0.001483)[0m   [0;1mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000338)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;36;1mSQL (0.002977)[0m   [0;1mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.000255)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;36;1mSQL (0.001349)[0m   [0;1mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003429)[0m   [0mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.001211)[0m   [0mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003149)[0m   [0;1mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;35;1mSQL (0.000329)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;36;1mSQL (0.005576)[0m   [0;1mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.008990)[0m   [0mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;35;1mSQL (0.000683)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.004005)[0m   [0;1mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;35;1mSQL (0.000396)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.004042)[0m   [0;1mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000678)[0m   [0mSHOW FIELDS FROM `accessories`[0m
  [4;36;1mSQL (0.003807)[0m   [0;1mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.005831)[0m   [0mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.009742)[0m   [0;1mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004337)[0m   [0mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000609)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.004534)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.001164)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;36;1mSQL (0.003943)[0m   [0;1mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;35;1mSQL (0.000583)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.004008)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;35;1mSQL (0.004150)[0m   [0mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;36;1mSQL (0.004132)[0m   [0;1mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;35;1mSQL (0.004303)[0m   [0mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;36;1mSQL (0.000993)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.004112)[0m   [0mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.009383)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.006029)[0m   [0mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;35;1mSQL (0.000801)[0m   [0mSHOW FIELDS FROM `plans`[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000248)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000208)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000201)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000107)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;35;1mSQL (0.005975)[0m   [0mALTER TABLE `accessories` DROP `active`[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '13'[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;35;1mSQL (0.002879)[0m   [0mALTER TABLE `features` DROP `active`[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '12'[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.000758)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003611)[0m   [0;1mALTER TABLE `phones` CHANGE `outright` `outright` int(11) DEFAULT '0.0' NOT NULL[0m
  [4;35;1mSQL (0.000724)[0m   [0mSHOW FIELDS FROM `phones`[0m
  [4;36;1mSQL (0.003454)[0m   [0;1mALTER TABLE `phones` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.010534)[0m   [0mALTER TABLE `phones` DROP `picture_name`[0m
  [4;36;1mSQL (0.004198)[0m   [0;1mALTER TABLE `phones` DROP `picture_type`[0m
  [4;35;1mSQL (0.029783)[0m   [0mALTER TABLE `phones` DROP `picture_data`[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '11'[0m
Migrating to ChangeFeatureNameToString (10)
  [4;35;1mSQL (0.000682)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (0.003374)[0m   [0;1mALTER TABLE `features` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;35;1mSQL (0.000480)[0m   [0mDELETE FROM schema_migrations WHERE version = '10'[0m
Migrating to AccessoriesV3 (9)
  [4;36;1mSQL (0.000752)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003018)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT '0.0' NOT NULL[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003644)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` text DEFAULT NULL[0m
  [4;36;1mSQL (0.003069)[0m   [0;1mALTER TABLE `accessories` DROP `picture_name`[0m
  [4;35;1mSQL (0.009690)[0m   [0mALTER TABLE `accessories` DROP `picture_type`[0m
  [4;36;1mSQL (0.003563)[0m   [0;1mALTER TABLE `accessories` DROP `picture_data`[0m
  [4;35;1mSQL (0.000461)[0m   [0mDELETE FROM schema_migrations WHERE version = '9'[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000710)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003140)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` int(11) DEFAULT 0.0 NOT NULL[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '8'[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.000891)[0m   [0mDROP TABLE `phones_accessories`[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '7'[0m
Migrating to PhonesFeatures (6)
  [4;35;1mSQL (0.000883)[0m   [0mDROP TABLE `phones_features`[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '6'[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.000879)[0m   [0mDROP TABLE `phones_plans`[0m
  [4;36;1mSQL (0.000424)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '5'[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.000905)[0m   [0mDROP TABLE `features`[0m
  [4;36;1mSQL (0.000929)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '4'[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.006044)[0m   [0mDROP TABLE `accessories`[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '3'[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001066)[0m   [0mDROP TABLE `plans`[0m
  [4;36;1mSQL (0.000471)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '2'[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.000950)[0m   [0mDROP TABLE `phones`[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '1'[0m
  [4;35;1mSQL (0.000246)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000495)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000228)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.000110)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePhones (1)
  [4;35;1mSQL (0.012550)[0m   [0mCREATE TABLE `phones` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `outright` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreatePlans (2)
  [4;35;1mSQL (0.001591)[0m   [0mCREATE TABLE `plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `comments` text, `price` int(11), `flexi_code` text, `flexi_price` int(11), `base_etc` int(11), `offer` text, `contract` int(11), `created_at` datetime, `updated_at` datetime, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAccessories (3)
  [4;35;1mSQL (0.001878)[0m   [0mCREATE TABLE `accessories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `price` int(11), `created_at` datetime, `updated_at` datetime, `outofstock` tinyint(1) DEFAULT 0, `discontinued` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateFeatures (4)
  [4;35;1mSQL (0.001393)[0m   [0mCREATE TABLE `features` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` text, `description` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to PhonesPlans (5)
  [4;35;1mSQL (0.003044)[0m   [0mCREATE TABLE `phones_plans` (`plan_id` int(11) NOT NULL, `phone_id` int(11) NOT NULL, `offer_price` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003317)[0m   [0;1mCREATE INDEX `index_phones_plans_on_phone_id_and_plan_id` ON `phones_plans` (`phone_id`, `plan_id`)[0m
  [4;35;1mSQL (0.000357)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to PhonesFeatures (6)
  [4;36;1mSQL (0.001293)[0m   [0;1mCREATE TABLE `phones_features` (`phone_id` int(11) NOT NULL, `feature_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.003475)[0m   [0mCREATE INDEX `index_phones_features_on_phone_id_and_feature_id` ON `phones_features` (`phone_id`, `feature_id`)[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to PhonesAccessories (7)
  [4;35;1mSQL (0.001513)[0m   [0mCREATE TABLE `phones_accessories` (`phone_id` int(11) NOT NULL, `accessory_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.003236)[0m   [0;1mCREATE INDEX `index_phones_accessories_on_phone_id_and_accessory_id` ON `phones_accessories` (`phone_id`, `accessory_id`)[0m
  [4;35;1mSQL (0.000711)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ChangeAccessoryPriceToFloat (8)
  [4;36;1mSQL (0.000683)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003464)[0m   [0mALTER TABLE `accessories` CHANGE `price` `price` float DEFAULT NULL[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AccessoriesV3 (9)
  [4;35;1mSQL (0.003593)[0m   [0mALTER TABLE accessories MODIFY COLUMN price DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSHOW FIELDS FROM `accessories`[0m
  [4;35;1mSQL (0.003549)[0m   [0mALTER TABLE `accessories` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003092)[0m   [0;1mALTER TABLE `accessories` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.004339)[0m   [0mALTER TABLE `accessories` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003042)[0m   [0;1mALTER TABLE accessories ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000383)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to ChangeFeatureNameToString (10)
  [4;36;1mSQL (0.000609)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mSQL (0.003326)[0m   [0mALTER TABLE `features` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to PhonesChangeNameAndAddPicture (11)
  [4;35;1mSQL (0.006048)[0m   [0mALTER TABLE phones MODIFY COLUMN outright DECIMAL(9,2) NOT NULL DEFAULT 0[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSHOW FIELDS FROM `phones`[0m
  [4;35;1mSQL (0.003054)[0m   [0mALTER TABLE `phones` CHANGE `name` `name` varchar(255) DEFAULT NULL[0m
  [4;36;1mSQL (0.003078)[0m   [0;1mALTER TABLE `phones` ADD `picture_name` varchar(255)[0m
  [4;35;1mSQL (0.003469)[0m   [0mALTER TABLE `phones` ADD `picture_type` varchar(255) DEFAULT 'image/jpeg'[0m
  [4;36;1mSQL (0.003125)[0m   [0;1mALTER TABLE phones ADD COLUMN picture_data LONGBLOB[0m
  [4;35;1mSQL (0.000373)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to FeaturesAddActiveFlagForArchive (12)
  [4;36;1mSQL (0.003141)[0m   [0;1mALTER TABLE `features` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000622)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AccessoriesAddActiveFlagForArchive (13)
  [4;36;1mSQL (0.003256)[0m   [0;1mALTER TABLE `accessories` ADD `active` tinyint(1) DEFAULT 1[0m
  [4;35;1mSQL (0.000351)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to PlansVersion2 (14)
  [4;36;1mSQL (0.000760)[0m   [0;1mSHOW FIELDS FROM `plans`[0m
